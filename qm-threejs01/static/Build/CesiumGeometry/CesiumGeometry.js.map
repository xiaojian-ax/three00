{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a31b47dafaaf0d50bb2d","webpack:///external \"Cesium\"","webpack:///./Source/Core/util.js","webpack:///./Source/Sensor/RectangularSensor/RectangularSensorPrimitive.js","webpack:///./Source/Sensor/ConicArcSensor/ConicArcSensorGeometry.js","webpack:///./Source/Sensor/ConicArcSensor/ConicArcSensorOutlineGeometry.js","webpack:///./Source/Sensor/ConicArcSensor/ConicArcSensorGraphics.js","webpack:///./Source/cesiumGeometry.js","webpack:///./Source/Sensor/Sensor.js","webpack:///./Source/Sensor/RectangularSensor/shaders/RectangularSensorVS.glsl","webpack:///./Source/Sensor/RectangularSensor/shaders/RectangularSensorFS.glsl","webpack:///./Source/Sensor/RectangularSensor/shaders/RectangularSensor.glsl","webpack:///./Source/Sensor/RectangularSensor/shaders/RectangularSensorScanPlaneFS.glsl","webpack:///./Source/Sensor/RectangularSensor/RectangularSensorGraphics.js","webpack:///./Source/Sensor/RectangularSensor/RectangularSensorVisualizer.js","webpack:///./Source/Core/remove-primitive.js","webpack:///./Source/Sensor/ConicArcSensor/ConicArcSensorCollection.js","webpack:///./Source/Sensor/ConicArcSensor/ConicArcSensor.js","webpack:///./Source/Material/Material.js","webpack:///./Source/Material/MaterialProperty/PolylineAttackLinkMaterialProperty.js","webpack:///./Source/Material/MaterialProperty/PolylineArrowLinkMaterialProperty.js","webpack:///./Source/Material/MaterialProperty/PolylineGlowLinkMaterialProperty.js","webpack:///./Source/Material/MaterialProperty/PolylinePulseLinkMaterialProperty.js","webpack:///./Source/Material/MaterialProperty/PolylineTrailLinkMaterialProperty.js","webpack:///./Source/Material/MaterialProperty/ElliposidFadeMaterialProperty.js","webpack:///./Source/Material/Shaders/polylineLinkMaterial.glsl","webpack:///./Source/Material/Shaders/polylinePulseMaterial.glsl","webpack:///./Source/Material/Shaders/polylineGlowMaterial.glsl","webpack:///./Source/Material/Shaders/polylineTrailMaterial.glsl","webpack:///./Source/Material/Shaders/ElliposidFadeMaterial.glsl","webpack:///./Source/Core/getLinkedPointList.js"],"names":["util","cesiumScriptRegex","getBaseUrlFromCesiumScript","scripts","document","getElementsByTagName","i","len","length","src","getAttribute","result","exec","undefined","baseUrl","getBaseUrl","BoundingSphere","Cesium","Cartesian3","Color","combine","ComponentDatatype","defaultValue","defined","defineProperties","destroyObject","DeveloperError","Matrix4","PrimitiveType","Buffer","BufferUsage","DrawCommand","Pass","RenderState","ShaderProgram","ShaderSource","VertexArray","BlendingState","CullFace","Material","SceneMode","VertexFormat","CesiumMath","Math","Matrix3","JulianDate","BoxGeometry","EllipsoidGeometry","sin","cos","tan","atan","asin","attributeLocations","position","normal","RectangularSensorPrimitive","options","self","EMPTY_OBJECT","show","slice","modelMatrix","clone","_modelMatrix","_computedModelMatrix","_computedScanPlaneModelMatrix","radius","Number","POSITIVE_INFINITY","_radius","xHalfAngle","_xHalfAngle","yHalfAngle","_yHalfAngle","lineColor","WHITE","showSectorLines","showSectorSegmentLines","showLateralSurfaces","material","fromType","ColorType","_material","_translucent","lateralSurfaceMaterial","_lateralSurfaceMaterial","_lateralSurfaceTranslucent","showDomeSurfaces","domeSurfaceMaterial","_domeSurfaceMaterial","showDomeLines","showIntersection","intersectionColor","intersectionWidth","showThroughEllipsoid","_showThroughEllipsoid","showScanPlane","scanPlaneColor","scanPlaneMode","scanPlaneRate","_scanePlaneXHalfAngle","_scanePlaneYHalfAngle","_time","now","_boundingSphere","_boundingSphereWC","_sectorFrontCommand","owner","primitiveType","TRIANGLES","boundingVolume","_sectorBackCommand","_sectorVA","_sectorLineCommand","LINES","_sectorLineVA","_sectorSegmentLineCommand","_sectorSegmentLineVA","_domeFrontCommand","_domeBackCommand","_domeVA","_domeLineCommand","_domeLineVA","_scanPlaneFrontCommand","_scanPlaneBackCommand","_scanRadialCommand","_colorCommands","_frontFaceRS","_backFaceRS","_sp","_uniforms","u_type","u_xHalfAngle","u_yHalfAngle","u_radius","u_showThroughEllipsoid","u_showIntersection","u_intersectionColor","u_intersectionWidth","u_normalDirection","u_lineColor","_scanUniforms","u_color","prototype","update","frameState","mode","SCENE3D","createVS","createRS","createSP","radiusChanged","ZERO","modelMatrixChanged","equals","multiplyByUniformScale","transform","translucent","isTranslucent","time","timeDiff","secondsDifference","percentage","max","angle","cosYHalfAngle","tanXHalfAngle","maxX","fromRotationX","matrix3Scratch","tanYHalfAngle","cosXHalfAngle","maxY","fromRotationY","multiplyByMatrix3","createVertexArray","createRenderState","createShaderProgram","createCommands","commandList","passes","colorCommands","render","colorCommand","push","nScratch","computeUnitPosiiton","primitive","zoy","phi","zox","computeSectorPositions","unitPosition","positions","matrix3","map","p","multiplyByVector","reverse","createSectorVertexArray","context","planeLength","Array","concat","apply","vertices","Float32Array","k","planePositions","n","normalize","cross","j","x","y","z","vertexBuffer","createVertexBuffer","typedArray","usage","STATIC_DRAW","stride","BYTES_PER_ELEMENT","attributes","index","componentsPerAttribute","componentDatatype","FLOAT","offsetInBytes","strideInBytes","createSectorLineVertexArray","createSectorSegmentLineVertexArray","createDomeVertexArray","geometry","createGeometry","vertexFormat","POSITION_ONLY","stackPartitions","slicePartitions","vertexArray","fromGeometry","bufferUsage","interleave","createDomeLineVertexArray","EllipsoidOutlineGeometry","createScanPlaneVertexArray","unitSectorPositions","unitScanPlanePositions","PI_OVER_TWO","_scanPlaneVA","createCommonShaderProgram","vs","RectangularSensorVS","fs","sources","RectangularSensor","shaderSource","RectangularSensorFS","replaceCache","shaderProgram","vertexShaderSource","fragmentShaderSource","pickFS","pickColorQualifier","_pickSP","createScanPlaneShaderProgram","RectangularSensorScanPlaneFS","_scanePlaneSP","fromCache","depthTest","enabled","depthMask","blending","ALPHA_BLEND","cull","face","BACK","FRONT","_pickRS","createCommand","frontCommand","backCommand","frontFaceRS","backFaceRS","sp","va","uniforms","pass","isLine","renderState","uniformMap","TRANSLUCENT","OPAQUE","Check","Geometry","GeometryAttribute","GeometryAttributes","GeometryPipeline","IndexDatatype","Ellipsoid","ConicArcSensorGeometry","round","typeOf","number","DEFAULT","_angle","_stackPartitions","_slicePartitions","_vertexFormat","fromDimensions","greaterThanOrEquals","height","conicSensorGeometry","console","bottomIndex","numIndices","vertexCount","indices","createTypedArray","Float64Array","positionIndex","cosTheta","sinTheta","theta","TWO_PI","sinPhi","xSinPhi","ySinPhi","zCosPhi","DOUBLE","values","indicesIndex","topOffset","bottomOffset","boundingSphere","computeNormal","timeEnd","defaultRadii","ConicArcSensorOutlineGeometry","subdivisions","_subdivisions","indicesSize","positionSize","cosPhi","topRowOffset","sliceOffset","Event","createMaterialPropertyDescriptor","createPropertyDescriptor","ConicArcSensorGraphics","_angleSubscription","_radiusSubscription","_stack","_stackSubscription","_slice","_sliceSubscription","_color","_colorSubscription","_show","_showSubscription","_fill","_fillSubscription","_materialSubscription","_outline","_outlineSubscription","_outlineColor","_outlineColorSubscription","_outlineWidth","_outlineWidthSubscription","_shadows","_shadowsSubscription","_distanceDisplayCondition","_distanceDisplayConditionSubscription","_definitionChanged","_gaze","_gazeSubscription","merge","definitionChanged","get","fill","shadows","distanceDisplayCondition","stack","color","outline","outlineColor","outlineWidth","gaze","source","getLinkedPointList","RectangularSensorGraphics","RectangularSensorVisualizer","ConicArcSensorCollection","DataSourceDisplay","originalDefaultVisualizersCallback","defaultVisualizersCallback","scene","entityCluster","dataSource","entities","array","_lineColor","_showSectorLines","_showSectorSegmentLines","_showLateralSurfaces","_showDomeSurfaces","_showDomeLines","_showIntersection","_intersectionColor","_intersectionWidth","_showScanPlane","_scanPlaneColor","_scanPlaneMode","_scanPlaneRate","AssociativeArray","Quaternion","MaterialProperty","Property","matrix4Scratch","cachedPosition","cachedGazePosition","cachedOrientation","diffVectorScratch","orientationScratch","entityCollection","collectionChanged","addEventListener","_onCollectionChanged","_scene","_primitives","primitives","_entityCollection","_hash","_entitiesToVisualize","hash","entity","rectangularSensorGraphics","_rectangularSensor","orientation","data","id","isShowing","isAvailable","getValueOrDefault","getValueOrUndefined","_position","_orientation","add","targetPosition","diffVector","subtract","rotate","angleBetween","UNIT_Z","fromAxisAngle","PI","distance","fromRotationTranslation","fromQuaternion","Transforms","eastNorthUpToFixedFrame","getValue","isDestroyed","destroy","added","removed","changed","set","remove","removePrimitive","Viewer","ColorGeometryInstanceAttribute","Primitive","PerInstanceColorAppearance","DistanceDisplayCondition","DistanceDisplayConditionGeometryInstanceAttribute","viewer","_viewer","clock","_clock","_primitive","_outlinePrimitive","_conicArcSensorCollection","onTick","positionScratch","targetPositionScratch","conicArcSensor","ConicArcSensor","indexOf","splice","removeAll","currentTime","conicArcSensorCollection","outlinePrimitive","instances","outlineInstances","removeAndDestroy","_conicArcSensor","multiplyByScalar","_geometry","conic","POSITION_AND_NORMAL","instance","GeometryInstance","fromColor","outlineGeometry","_outlineGeometry","conicOutline","asynchronous","geometryInstances","appearance","flat","closed","lineWidth","clampLineWidth","Entity","ConstantPositionProperty","createConstantPositionProperty","value","createPositionPropertyDescriptor","name","Object","gazeAt","PolylineAttackLinkType","PolylineAttackLinkImage","_materialCache","addMaterial","fabric","type","image","polylineLinkMaterial","PolylineArrowLinkType","PolylineArrowLinkImage","PolylinePulseLinkType","PolylinePulseLinkImage","PolylineGrowLinkType","glowPower","polylineGlowMaterial","PolylineTrailLinkType","PolylineTrailLinkImage","polylineTrailMaterial","EllipsoidFadeType","ElliposidFadeMaterial","PolylineAttackLinkMaterialProperty","PolylineArrowLinkMaterialProperty","PolylineGlowLinkMaterialProperty","PolylinePulseLinkMaterialProperty","PolylineTrailLinkMaterialProperty","ElliposidFadeMaterialProperty","defaultColor","duration","isConstant","getType","getValueOrClonedDefault","secondsOfDay","other","startPoint","endPoint","angularityFactor","numOfSingleLine","startPosition","Cartographic","fromCartesian","endPosition","startLon","longitude","startLat","latitude","endLon","endLat","dist","sqrt","angularity","startVec","endVec","startLength","endLength","omega","t","invT","startScalar","endScalar","startScalarVec","endScalarVec","centerVec","ht","centerLength"],"mappings":"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","file":"CesiumGeometry.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Cesium\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Cesium\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"CesiumGeometry\"] = factory(require(\"Cesium\"));\n\telse\n\t\troot[\"CesiumGeometry\"] = factory(root[\"Cesium\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a31b47dafaaf0d50bb2d","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Cesium\"\n// module id = 0\n// module chunks = 0","var util = {};\r\n\r\n/**\r\n * 获取插件的基本路径\r\n */\r\n(function () {\r\n    var cesiumScriptRegex = /((?:.*\\/)|^)cesiumGeometry[\\w-]*\\.js(?:\\W|$)/i;\r\n\r\n    function getBaseUrlFromCesiumScript() {\r\n        var scripts = document.getElementsByTagName('script');\r\n        for (var i = 0, len = scripts.length; i < len; ++i) {\r\n            var src = scripts[i].getAttribute('src');\r\n            var result = cesiumScriptRegex.exec(src);\r\n            if (result !== null) {\r\n                return result[1];\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    var baseUrl = undefined;\r\n    util.getBaseUrl = function () {\r\n        if (baseUrl === undefined) {\r\n            baseUrl = getBaseUrlFromCesiumScript();\r\n        }\r\n        return baseUrl;\r\n    };\r\n})();\r\n\r\nexport {util};\n\n\n// WEBPACK FOOTER //\n// ./Source/Core/util.js","import Cesium from \"Cesium\";\r\nimport RectangularSensorVS from \"./shaders/RectangularSensorVS.glsl\";\r\nimport RectangularSensorFS from \"./shaders/RectangularSensorFS.glsl\";\r\nimport RectangularSensor from \"./shaders/RectangularSensor.glsl\";\r\nimport RectangularSensorScanPlaneFS from \"./shaders/RectangularSensorScanPlaneFS.glsl\";\r\n\r\nvar BoundingSphere = Cesium.BoundingSphere;\r\nvar Cartesian3 = Cesium.Cartesian3;\r\nvar Color = Cesium.Color;\r\nvar combine = Cesium.combine;\r\nvar ComponentDatatype = Cesium.ComponentDatatype;\r\nvar defaultValue = Cesium.defaultValue;\r\nvar defined = Cesium.defined;\r\nvar defineProperties = Cesium.defineProperties;\r\nvar destroyObject = Cesium.destroyObject;\r\nvar DeveloperError = Cesium.DeveloperError;\r\nvar Matrix4 = Cesium.Matrix4;\r\nvar PrimitiveType = Cesium.PrimitiveType;\r\nvar Buffer = Cesium.Buffer;\r\nvar BufferUsage = Cesium.BufferUsage;\r\nvar DrawCommand = Cesium.DrawCommand;\r\nvar Pass = Cesium.Pass;\r\nvar RenderState = Cesium.RenderState;\r\nvar ShaderProgram = Cesium.ShaderProgram;\r\nvar ShaderSource = Cesium.ShaderSource;\r\nvar VertexArray = Cesium.VertexArray;\r\nvar BlendingState = Cesium.BlendingState;\r\nvar CullFace = Cesium.CullFace;\r\nvar Material = Cesium.Material;\r\nvar SceneMode = Cesium.SceneMode;\r\nvar VertexFormat = Cesium.VertexFormat;\r\nvar CesiumMath = Cesium.Math;\r\nvar Matrix3 = Cesium.Matrix3;\r\nvar Matrix4 = Cesium.Matrix4;\r\nvar JulianDate = Cesium.JulianDate;\r\n\r\nvar BoxGeometry = Cesium.BoxGeometry;\r\nvar EllipsoidGeometry = Cesium.EllipsoidGeometry;\r\n\r\nvar sin = Math.sin;\r\nvar cos = Math.cos;\r\nvar tan = Math.tan;\r\nvar atan = Math.atan;\r\nvar asin = Math.asin;\r\n\r\nvar attributeLocations = {\r\n    position: 0,\r\n    normal: 1\r\n};\r\n\r\nfunction RectangularSensorPrimitive(options) {\r\n    var self = this;\r\n\r\n    options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n\r\n    /**\r\n     * 是否显示\r\n     */\r\n    this.show = defaultValue(options.show, true);\r\n\r\n    /**\r\n     * 切分程度\r\n     */\r\n    this.slice = defaultValue(options.slice, 32);\r\n\r\n    /**\r\n     * 传感器的模型矩阵\r\n     */\r\n    this.modelMatrix = Matrix4.clone(options.modelMatrix, new Matrix4());\r\n    this._modelMatrix = new Matrix4();\r\n    this._computedModelMatrix = new Matrix4();\r\n    this._computedScanPlaneModelMatrix = new Matrix4();\r\n\r\n    /**\r\n     * 传感器的半径\r\n     */\r\n    this.radius = defaultValue(options.radius, Number.POSITIVE_INFINITY);\r\n    this._radius = undefined;\r\n\r\n    /**\r\n     * 传感器水平半角\r\n     */\r\n    this.xHalfAngle = defaultValue(options.xHalfAngle, 0);\r\n    this._xHalfAngle = undefined;\r\n\r\n    /**\r\n     * 传感器垂直半角\r\n     */\r\n    this.yHalfAngle = defaultValue(options.yHalfAngle, 0);\r\n    this._yHalfAngle = undefined;\r\n\r\n    /**\r\n     * 线的颜色\r\n     */\r\n    this.lineColor = defaultValue(options.lineColor, Color.WHITE);\r\n\r\n    /**\r\n     * 是否显示扇面的线\r\n     */\r\n    this.showSectorLines = defaultValue(options.showSectorLines, true);\r\n\r\n    /**\r\n     * 是否显示扇面和圆顶面连接的线\r\n     */\r\n    this.showSectorSegmentLines = defaultValue(options.showSectorSegmentLines, true);\r\n\r\n\r\n    /**\r\n     * 是否显示侧面\r\n     */\r\n    this.showLateralSurfaces = defaultValue(options.showLateralSurfaces, true);\r\n\r\n    /**\r\n     * 目前用的统一材质\r\n     * @type {Material}\r\n     */\r\n    this.material = defined(options.material) ? options.material : Material.fromType(Material.ColorType);\r\n    this._material = undefined;\r\n    this._translucent = undefined;\r\n\r\n    /**\r\n     * 侧面材质\r\n     * @type {Material}\r\n     */\r\n    this.lateralSurfaceMaterial = defined(options.lateralSurfaceMaterial) ? options.lateralSurfaceMaterial : Material.fromType(Material.ColorType);\r\n    this._lateralSurfaceMaterial = undefined;\r\n    this._lateralSurfaceTranslucent = undefined;\r\n\r\n    /**\r\n     * 是否显示圆顶表面\r\n     */\r\n    this.showDomeSurfaces = defaultValue(options.showDomeSurfaces, true);\r\n\r\n    /**\r\n     * 圆顶表面材质\r\n     * @type {Material}\r\n     */\r\n    this.domeSurfaceMaterial = defined(options.domeSurfaceMaterial) ? options.domeSurfaceMaterial : Material.fromType(Material.ColorType);\r\n    this._domeSurfaceMaterial = undefined;\r\n\r\n    /**\r\n     * 是否显示圆顶面线\r\n     */\r\n    this.showDomeLines = defaultValue(options.showDomeLines, true);\r\n\r\n    /**\r\n     * 是否显示与地球相交的线\r\n     */\r\n    this.showIntersection = defaultValue(options.showIntersection, true);\r\n\r\n    /**\r\n     * 与地球相交的线的颜色\r\n     */\r\n    this.intersectionColor = defaultValue(options.intersectionColor, Color.WHITE);\r\n\r\n    /**\r\n     * 与地球相交的线的宽度（像素）\r\n     */\r\n    this.intersectionWidth = defaultValue(options.intersectionWidth, 5.0);\r\n\r\n    /**\r\n     * 是否穿过地球\r\n     */\r\n    this.showThroughEllipsoid = defaultValue(options.showThroughEllipsoid, false);\r\n    this._showThroughEllipsoid = undefined;\r\n\r\n    /**\r\n     * 是否显示扫描面\r\n     */\r\n    this.showScanPlane = defaultValue(options.showScanPlane, true);\r\n\r\n    /**\r\n     * 扫描面颜色\r\n     */\r\n    this.scanPlaneColor = defaultValue(options.scanPlaneColor, Color.WHITE);\r\n\r\n    /**\r\n     * 扫描面模式 垂直vertical/水平horizontal\r\n     */\r\n    this.scanPlaneMode = defaultValue(options.scanPlaneMode, 'horizontal');\r\n\r\n    /**\r\n     * 扫描速率\r\n     */\r\n    this.scanPlaneRate = defaultValue(options.scanPlaneRate, 10);\r\n\r\n    this._scanePlaneXHalfAngle = 0;\r\n    this._scanePlaneYHalfAngle = 0;\r\n\r\n    //时间计算的起点\r\n    this._time = JulianDate.now();\r\n\r\n\r\n    this._boundingSphere = new BoundingSphere();\r\n    this._boundingSphereWC = new BoundingSphere();\r\n\r\n    //扇面 sector\r\n    this._sectorFrontCommand = new DrawCommand({\r\n        owner: this,\r\n        primitiveType: PrimitiveType.TRIANGLES,\r\n        boundingVolume: this._boundingSphereWC\r\n    });\r\n    this._sectorBackCommand = new DrawCommand({\r\n        owner: this,\r\n        primitiveType: PrimitiveType.TRIANGLES,\r\n        boundingVolume: this._boundingSphereWC\r\n    });\r\n    this._sectorVA = undefined;\r\n\r\n    //扇面边线 sectorLine\r\n    this._sectorLineCommand = new DrawCommand({\r\n        owner: this,\r\n        primitiveType: PrimitiveType.LINES,\r\n        boundingVolume: this._boundingSphereWC\r\n    });\r\n    this._sectorLineVA = undefined;\r\n\r\n    //扇面分割线 sectorSegmentLine\r\n    this._sectorSegmentLineCommand = new DrawCommand({\r\n        owner: this,\r\n        primitiveType: PrimitiveType.LINES,\r\n        boundingVolume: this._boundingSphereWC\r\n    });\r\n    this._sectorSegmentLineVA = undefined;\r\n\r\n    //弧面 dome\r\n    this._domeFrontCommand = new DrawCommand({\r\n        owner: this,\r\n        primitiveType: PrimitiveType.TRIANGLES,\r\n        boundingVolume: this._boundingSphereWC\r\n    });\r\n    this._domeBackCommand = new DrawCommand({\r\n        owner: this,\r\n        primitiveType: PrimitiveType.TRIANGLES,\r\n        boundingVolume: this._boundingSphereWC\r\n    });\r\n    this._domeVA = undefined;\r\n\r\n    //弧面线 domeLine\r\n    this._domeLineCommand = new DrawCommand({\r\n        owner: this,\r\n        primitiveType: PrimitiveType.LINES,\r\n        boundingVolume: this._boundingSphereWC\r\n    });\r\n    this._domeLineVA = undefined;\r\n\r\n    //扫描面 scanPlane/scanRadial\r\n    this._scanPlaneFrontCommand = new DrawCommand({\r\n        owner: this,\r\n        primitiveType: PrimitiveType.TRIANGLES,\r\n        boundingVolume: this._boundingSphereWC\r\n    });\r\n    this._scanPlaneBackCommand = new DrawCommand({\r\n        owner: this,\r\n        primitiveType: PrimitiveType.TRIANGLES,\r\n        boundingVolume: this._boundingSphereWC\r\n    });\r\n\r\n    this._scanRadialCommand = undefined;\r\n\r\n    this._colorCommands = [];\r\n\r\n    this._frontFaceRS = undefined;\r\n    this._backFaceRS = undefined;\r\n    this._sp = undefined;\r\n\r\n\r\n    this._uniforms = {\r\n        u_type: function () {\r\n            return 0;//面\r\n        },\r\n        u_xHalfAngle: function () {\r\n            return self.xHalfAngle;\r\n        },\r\n        u_yHalfAngle: function () {\r\n            return self.yHalfAngle;\r\n        },\r\n        u_radius: function () {\r\n            return self.radius;\r\n        },\r\n        u_showThroughEllipsoid: function () {\r\n            return self.showThroughEllipsoid;\r\n        },\r\n        u_showIntersection: function () {\r\n            return self.showIntersection;\r\n        },\r\n        u_intersectionColor: function () {\r\n            return self.intersectionColor;\r\n        },\r\n        u_intersectionWidth: function () {\r\n            return self.intersectionWidth;\r\n        },\r\n        u_normalDirection: function () {\r\n            return 1.0;\r\n        },\r\n        u_lineColor: function () {\r\n            return self.lineColor;\r\n        }\r\n    };\r\n\r\n    this._scanUniforms = {\r\n        u_xHalfAngle: function () {\r\n            return self._scanePlaneXHalfAngle;\r\n        },\r\n        u_yHalfAngle: function () {\r\n            return self._scanePlaneYHalfAngle;\r\n        },\r\n        u_radius: function () {\r\n            return self.radius;\r\n        },\r\n        u_color: function () {\r\n            return self.scanPlaneColor;\r\n        },\r\n        u_showThroughEllipsoid: function () {\r\n            return self.showThroughEllipsoid;\r\n        },\r\n        u_showIntersection: function () {\r\n            return self.showIntersection;\r\n        },\r\n        u_intersectionColor: function () {\r\n            return self.intersectionColor;\r\n        },\r\n        u_intersectionWidth: function () {\r\n            return self.intersectionWidth;\r\n        },\r\n        u_normalDirection: function () {\r\n            return 1.0;\r\n        },\r\n        u_lineColor: function () {\r\n            return self.lineColor;\r\n        }\r\n    };\r\n}\r\n\r\nRectangularSensorPrimitive.prototype.update = function (frameState) {\r\n    var mode = frameState.mode;\r\n    if (!this.show || mode !== SceneMode.SCENE3D) {\r\n        return;\r\n    }\r\n    var createVS = false;\r\n    var createRS = false;\r\n    var createSP = false;\r\n\r\n    var xHalfAngle = this.xHalfAngle;\r\n    var yHalfAngle = this.yHalfAngle;\r\n\r\n    if (xHalfAngle < 0.0 || yHalfAngle < 0.0) {\r\n        throw new DeveloperError('halfAngle must be greater than or equal to zero.');\r\n    }\r\n    if (xHalfAngle == 0.0 || yHalfAngle == 0.0) {\r\n        return;\r\n    }\r\n    if (this._xHalfAngle !== xHalfAngle || this._yHalfAngle !== yHalfAngle) {\r\n        this._xHalfAngle = xHalfAngle;\r\n        this._yHalfAngle = yHalfAngle;\r\n        createVS = true;\r\n    }\r\n\r\n    var radius = this.radius;\r\n    if (radius < 0.0) {\r\n        throw new DeveloperError('this.radius must be greater than or equal to zero.');\r\n    }\r\n    var radiusChanged = false;\r\n    if (this._radius !== radius) {\r\n        radiusChanged = true;\r\n        this._radius = radius;\r\n        this._boundingSphere = new BoundingSphere(Cartesian3.ZERO, this.radius);\r\n    }\r\n\r\n    var modelMatrixChanged = !Matrix4.equals(this.modelMatrix, this._modelMatrix);\r\n    if (modelMatrixChanged || radiusChanged) {\r\n        Matrix4.clone(this.modelMatrix, this._modelMatrix);\r\n        Matrix4.multiplyByUniformScale(this.modelMatrix, this.radius, this._computedModelMatrix);\r\n        BoundingSphere.transform(this._boundingSphere, this.modelMatrix, this._boundingSphereWC);\r\n    }\r\n\r\n    var showThroughEllipsoid = this.showThroughEllipsoid;\r\n    if (this._showThroughEllipsoid !== this.showThroughEllipsoid) {\r\n        this._showThroughEllipsoid = showThroughEllipsoid;\r\n        createRS = true;\r\n    }\r\n\r\n    var material = this.material;\r\n    if (this._material !== material) {\r\n        this._material = material;\r\n        createRS = true;\r\n        createSP = true;\r\n    }\r\n    var translucent = material.isTranslucent();\r\n    if (this._translucent !== translucent) {\r\n        this._translucent = translucent;\r\n        createRS = true;\r\n    }\r\n\r\n    if (this.showScanPlane) {\r\n        var time = frameState.time;\r\n        var timeDiff = JulianDate.secondsDifference(time, this._time);\r\n        if (timeDiff < 0) {\r\n            this._time = JulianDate.clone(time, this._time);\r\n        }\r\n        var percentage = Math.max((timeDiff % this.scanPlaneRate) / this.scanPlaneRate, 0);\r\n        var angle;\r\n\r\n        if (this.scanPlaneMode == 'horizontal') {\r\n            angle = 2 * yHalfAngle * percentage - yHalfAngle;\r\n            var cosYHalfAngle = cos(angle);\r\n            var tanXHalfAngle = tan(xHalfAngle);\r\n\r\n            var maxX = atan(cosYHalfAngle * tanXHalfAngle);\r\n            this._scanePlaneXHalfAngle = maxX;\r\n            this._scanePlaneYHalfAngle = angle;\r\n            Cesium.Matrix3.fromRotationX(this._scanePlaneYHalfAngle, matrix3Scratch);\r\n        } else {\r\n            angle = 2 * xHalfAngle * percentage - xHalfAngle;\r\n            var tanYHalfAngle = tan(yHalfAngle);\r\n            var cosXHalfAngle = cos(angle);\r\n\r\n            var maxY = atan(cosXHalfAngle * tanYHalfAngle);\r\n            this._scanePlaneXHalfAngle = angle;\r\n            this._scanePlaneYHalfAngle = maxY;\r\n            Cesium.Matrix3.fromRotationY(this._scanePlaneXHalfAngle, matrix3Scratch);\r\n        }\r\n\r\n        Cesium.Matrix4.multiplyByMatrix3(this.modelMatrix, matrix3Scratch, this._computedScanPlaneModelMatrix);\r\n        Matrix4.multiplyByUniformScale(this._computedScanPlaneModelMatrix, this.radius, this._computedScanPlaneModelMatrix);\r\n    }\r\n\r\n\r\n    if (createVS) {\r\n        createVertexArray(this, frameState);\r\n    }\r\n    if (createRS) {\r\n        createRenderState(this, showThroughEllipsoid, translucent);\r\n    }\r\n    if (createSP) {\r\n        createShaderProgram(this, frameState, material);\r\n    }\r\n    if (createRS || createSP) {\r\n        createCommands(this, translucent);\r\n    }\r\n\r\n    var commandList = frameState.commandList;\r\n    var passes = frameState.passes;\r\n    var colorCommands = this._colorCommands;\r\n    if (passes.render) {\r\n        for (var i = 0, len = colorCommands.length; i < len; i++) {\r\n            var colorCommand = colorCommands[i];\r\n            commandList.push(colorCommand);\r\n        }\r\n    }\r\n};\r\n\r\nvar matrix3Scratch = new Matrix3();\r\nvar nScratch = new Cartesian3();\r\n\r\n//region -- VertexArray --\r\n\r\n/**\r\n * 计算zoy面和zoy面单位扇形位置\r\n * @param primitive\r\n * @returns {{zoy: Array, zox: Array}}\r\n */\r\nfunction computeUnitPosiiton(primitive, xHalfAngle, yHalfAngle) {\r\n    var slice = primitive.slice;\r\n\r\n    //以中心为角度\r\n    var cosYHalfAngle = cos(yHalfAngle);\r\n    var tanYHalfAngle = tan(yHalfAngle);\r\n    var cosXHalfAngle = cos(xHalfAngle);\r\n    var tanXHalfAngle = tan(xHalfAngle);\r\n\r\n    var maxY = atan(cosXHalfAngle * tanYHalfAngle);\r\n    var maxX = atan(cosYHalfAngle * tanXHalfAngle);\r\n\r\n    //ZOY面单位圆\r\n    var zoy = [];\r\n    for (var i = 0; i < slice; i++) {\r\n        var phi = 2 * maxY * i / (slice - 1) - maxY;\r\n        zoy.push(new Cartesian3(0, sin(phi), cos(phi)));\r\n    }\r\n    //zox面单位圆\r\n    var zox = [];\r\n    for (var i = 0; i < slice; i++) {\r\n        var phi = 2 * maxX * i / (slice - 1) - maxX;\r\n        zox.push(new Cartesian3(sin(phi), 0, cos(phi)));\r\n    }\r\n\r\n    return {\r\n        zoy: zoy,\r\n        zox: zox\r\n    }\r\n}\r\n\r\n/**\r\n * 计算扇面的位置\r\n * @param unitPosition\r\n * @returns {Array}\r\n */\r\nfunction computeSectorPositions(primitive, unitPosition) {\r\n    var xHalfAngle = primitive.xHalfAngle,\r\n        yHalfAngle = primitive.yHalfAngle,\r\n        zoy = unitPosition.zoy,\r\n        zox = unitPosition.zox;\r\n    var positions = [];\r\n\r\n    //zoy面沿y轴逆时针转xHalfAngle\r\n    var matrix3 = Matrix3.fromRotationY(xHalfAngle, matrix3Scratch)\r\n    positions.push(zoy.map(function (p) {\r\n        return Matrix3.multiplyByVector(matrix3, p, new Cesium.Cartesian3());\r\n    }));\r\n    //zox面沿x轴顺时针转yHalfAngle\r\n    var matrix3 = Matrix3.fromRotationX(-yHalfAngle, matrix3Scratch);\r\n    positions.push(zox.map(function (p) {\r\n        return Matrix3.multiplyByVector(matrix3, p, new Cesium.Cartesian3());\r\n    }).reverse());\r\n    //zoy面沿y轴顺时针转xHalfAngle\r\n    var matrix3 = Matrix3.fromRotationY(-xHalfAngle, matrix3Scratch);\r\n    positions.push(zoy.map(function (p) {\r\n        return Matrix3.multiplyByVector(matrix3, p, new Cesium.Cartesian3());\r\n    }).reverse());\r\n    //zox面沿x轴逆时针转yHalfAngle\r\n    var matrix3 = Matrix3.fromRotationX(yHalfAngle, matrix3Scratch);\r\n    positions.push(zox.map(function (p) {\r\n        return Matrix3.multiplyByVector(matrix3, p, new Cesium.Cartesian3());\r\n    }));\r\n    return positions;\r\n}\r\n\r\n/**\r\n * 创建扇面顶点\r\n * @param context\r\n * @param positions\r\n * @returns {*}\r\n */\r\nfunction createSectorVertexArray(context, positions) {\r\n    var planeLength = Array.prototype.concat.apply([], positions).length - positions.length;\r\n    var vertices = new Float32Array(2 * 3 * 3 * planeLength);\r\n\r\n    var k = 0;\r\n    for (var i = 0, len = positions.length; i < len; i++) {\r\n        var planePositions = positions[i];\r\n        var n = Cartesian3.normalize(Cartesian3.cross(planePositions[0], planePositions[planePositions.length - 1], nScratch), nScratch);\r\n        for (var j = 0, planeLength = planePositions.length - 1; j < planeLength; j++) {\r\n            vertices[k++] = 0.0;\r\n            vertices[k++] = 0.0;\r\n            vertices[k++] = 0.0;\r\n            vertices[k++] = -n.x;\r\n            vertices[k++] = -n.y;\r\n            vertices[k++] = -n.z;\r\n\r\n            vertices[k++] = planePositions[j].x;\r\n            vertices[k++] = planePositions[j].y;\r\n            vertices[k++] = planePositions[j].z;\r\n            vertices[k++] = -n.x;\r\n            vertices[k++] = -n.y;\r\n            vertices[k++] = -n.z;\r\n\r\n            vertices[k++] = planePositions[j + 1].x;\r\n            vertices[k++] = planePositions[j + 1].y;\r\n            vertices[k++] = planePositions[j + 1].z;\r\n            vertices[k++] = -n.x;\r\n            vertices[k++] = -n.y;\r\n            vertices[k++] = -n.z;\r\n        }\r\n    }\r\n\r\n    var vertexBuffer = Buffer.createVertexBuffer({\r\n        context: context,\r\n        typedArray: vertices,\r\n        usage: BufferUsage.STATIC_DRAW\r\n    });\r\n\r\n    var stride = 2 * 3 * Float32Array.BYTES_PER_ELEMENT;\r\n\r\n    var attributes = [{\r\n        index: attributeLocations.position,\r\n        vertexBuffer: vertexBuffer,\r\n        componentsPerAttribute: 3,\r\n        componentDatatype: ComponentDatatype.FLOAT,\r\n        offsetInBytes: 0,\r\n        strideInBytes: stride\r\n    }, {\r\n        index: attributeLocations.normal,\r\n        vertexBuffer: vertexBuffer,\r\n        componentsPerAttribute: 3,\r\n        componentDatatype: ComponentDatatype.FLOAT,\r\n        offsetInBytes: 3 * Float32Array.BYTES_PER_ELEMENT,\r\n        strideInBytes: stride\r\n    }];\r\n\r\n    return new VertexArray({\r\n        context: context,\r\n        attributes: attributes\r\n    });\r\n}\r\n\r\n/**\r\n * 创建扇面边线顶点\r\n * @param context\r\n * @param positions\r\n * @returns {*}\r\n */\r\nfunction createSectorLineVertexArray(context, positions) {\r\n    var planeLength = positions.length;\r\n    var vertices = new Float32Array(3 * 3 * planeLength);\r\n\r\n    var k = 0;\r\n    for (var i = 0, len = positions.length; i < len; i++) {\r\n        var planePositions = positions[i];\r\n        vertices[k++] = 0.0;\r\n        vertices[k++] = 0.0;\r\n        vertices[k++] = 0.0;\r\n\r\n        vertices[k++] = planePositions[0].x;\r\n        vertices[k++] = planePositions[0].y;\r\n        vertices[k++] = planePositions[0].z;\r\n    }\r\n\r\n    var vertexBuffer = Buffer.createVertexBuffer({\r\n        context: context,\r\n        typedArray: vertices,\r\n        usage: BufferUsage.STATIC_DRAW\r\n    });\r\n\r\n    var stride = 3 * Float32Array.BYTES_PER_ELEMENT;\r\n\r\n    var attributes = [{\r\n        index: attributeLocations.position,\r\n        vertexBuffer: vertexBuffer,\r\n        componentsPerAttribute: 3,\r\n        componentDatatype: ComponentDatatype.FLOAT,\r\n        offsetInBytes: 0,\r\n        strideInBytes: stride\r\n    }];\r\n\r\n    return new VertexArray({\r\n        context: context,\r\n        attributes: attributes\r\n    });\r\n}\r\n\r\n/**\r\n * 创建扇面圆顶面连接线顶点\r\n * @param context\r\n * @param positions\r\n * @returns {*}\r\n */\r\nfunction createSectorSegmentLineVertexArray(context, positions) {\r\n    var planeLength = Array.prototype.concat.apply([], positions).length - positions.length;\r\n    var vertices = new Float32Array(3 * 3 * planeLength);\r\n\r\n    var k = 0;\r\n    for (var i = 0, len = positions.length; i < len; i++) {\r\n        var planePositions = positions[i];\r\n\r\n        for (var j = 0, planeLength = planePositions.length - 1; j < planeLength; j++) {\r\n            vertices[k++] = planePositions[j].x;\r\n            vertices[k++] = planePositions[j].y;\r\n            vertices[k++] = planePositions[j].z;\r\n\r\n            vertices[k++] = planePositions[j + 1].x;\r\n            vertices[k++] = planePositions[j + 1].y;\r\n            vertices[k++] = planePositions[j + 1].z;\r\n        }\r\n    }\r\n\r\n    var vertexBuffer = Buffer.createVertexBuffer({\r\n        context: context,\r\n        typedArray: vertices,\r\n        usage: BufferUsage.STATIC_DRAW\r\n    });\r\n\r\n    var stride = 3 * Float32Array.BYTES_PER_ELEMENT;\r\n\r\n    var attributes = [{\r\n        index: attributeLocations.position,\r\n        vertexBuffer: vertexBuffer,\r\n        componentsPerAttribute: 3,\r\n        componentDatatype: ComponentDatatype.FLOAT,\r\n        offsetInBytes: 0,\r\n        strideInBytes: stride\r\n    }];\r\n\r\n    return new VertexArray({\r\n        context: context,\r\n        attributes: attributes\r\n    });\r\n}\r\n\r\n/**\r\n * 创建圆顶面顶点\r\n * @param context\r\n */\r\nfunction createDomeVertexArray(context) {\r\n    var geometry = Cesium.EllipsoidGeometry.createGeometry(new Cesium.EllipsoidGeometry({\r\n        vertexFormat: VertexFormat.POSITION_ONLY,\r\n        stackPartitions: 32,\r\n        slicePartitions: 32\r\n    }));\r\n\r\n    var vertexArray = VertexArray.fromGeometry({\r\n        context: context,\r\n        geometry: geometry,\r\n        attributeLocations: attributeLocations,\r\n        bufferUsage: BufferUsage.STATIC_DRAW,\r\n        interleave: false\r\n    });\r\n    return vertexArray;\r\n}\r\n\r\n/**\r\n * 创建圆顶面连线顶点\r\n * @param context\r\n */\r\nfunction createDomeLineVertexArray(context) {\r\n    var geometry = Cesium.EllipsoidOutlineGeometry.createGeometry(new Cesium.EllipsoidOutlineGeometry({\r\n        vertexFormat: VertexFormat.POSITION_ONLY,\r\n        stackPartitions: 32,\r\n        slicePartitions: 32\r\n    }));\r\n\r\n    var vertexArray = VertexArray.fromGeometry({\r\n        context: context,\r\n        geometry: geometry,\r\n        attributeLocations: attributeLocations,\r\n        bufferUsage: BufferUsage.STATIC_DRAW,\r\n        interleave: false\r\n    });\r\n    return vertexArray;\r\n}\r\n\r\n/**\r\n * 创建扫描面顶点\r\n * @param context\r\n * @param positions\r\n * @returns {*}\r\n */\r\nfunction createScanPlaneVertexArray(context, positions) {\r\n    var planeLength = positions.length - 1;\r\n    var vertices = new Float32Array(3 * 3 * planeLength);\r\n\r\n    var k = 0;\r\n    for (var i = 0; i < planeLength; i++) {\r\n        vertices[k++] = 0.0;\r\n        vertices[k++] = 0.0;\r\n        vertices[k++] = 0.0;\r\n\r\n        vertices[k++] = positions[i].x;\r\n        vertices[k++] = positions[i].y;\r\n        vertices[k++] = positions[i].z;\r\n\r\n        vertices[k++] = positions[i + 1].x;\r\n        vertices[k++] = positions[i + 1].y;\r\n        vertices[k++] = positions[i + 1].z;\r\n    }\r\n\r\n    var vertexBuffer = Buffer.createVertexBuffer({\r\n        context: context,\r\n        typedArray: vertices,\r\n        usage: BufferUsage.STATIC_DRAW\r\n    });\r\n\r\n    var stride = 3 * Float32Array.BYTES_PER_ELEMENT;\r\n\r\n    var attributes = [{\r\n        index: attributeLocations.position,\r\n        vertexBuffer: vertexBuffer,\r\n        componentsPerAttribute: 3,\r\n        componentDatatype: ComponentDatatype.FLOAT,\r\n        offsetInBytes: 0,\r\n        strideInBytes: stride\r\n    }];\r\n\r\n    return new VertexArray({\r\n        context: context,\r\n        attributes: attributes\r\n    });\r\n}\r\n\r\nfunction createVertexArray(primitive, frameState) {\r\n    var context = frameState.context;\r\n\r\n    var unitSectorPositions = computeUnitPosiiton(primitive, primitive.xHalfAngle, primitive.yHalfAngle);\r\n    var positions = computeSectorPositions(primitive, unitSectorPositions);\r\n\r\n    //显示扇面\r\n    if (primitive.showLateralSurfaces) {\r\n        primitive._sectorVA = createSectorVertexArray(context, positions);\r\n    }\r\n\r\n    //显示扇面线\r\n    if (primitive.showSectorLines) {\r\n        primitive._sectorLineVA = createSectorLineVertexArray(context, positions);\r\n    }\r\n\r\n    //显示扇面圆顶面的交线\r\n    if (primitive.showSectorSegmentLines) {\r\n        primitive._sectorSegmentLineVA = createSectorSegmentLineVertexArray(context, positions);\r\n    }\r\n\r\n    //显示弧面\r\n    if (primitive.showDomeSurfaces) {\r\n        primitive._domeVA = createDomeVertexArray(context);\r\n    }\r\n\r\n    //显示弧面线\r\n    if (primitive.showDomeLines) {\r\n        primitive._domeLineVA = createDomeLineVertexArray(context);\r\n    }\r\n\r\n    //显示扫描面\r\n    if (primitive.showScanPlane) {\r\n\r\n        if (primitive.scanPlaneMode == 'horizontal') {\r\n            var unitScanPlanePositions = computeUnitPosiiton(primitive, CesiumMath.PI_OVER_TWO, 0);\r\n            primitive._scanPlaneVA = createScanPlaneVertexArray(context, unitScanPlanePositions.zox);\r\n        } else {\r\n            var unitScanPlanePositions = computeUnitPosiiton(primitive, 0, CesiumMath.PI_OVER_TWO);\r\n            primitive._scanPlaneVA = createScanPlaneVertexArray(context, unitScanPlanePositions.zoy);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n//endregion\r\n\r\n//region -- ShaderProgram --\r\n\r\nfunction createCommonShaderProgram(primitive, frameState, material) {\r\n    var context = frameState.context;\r\n\r\n    var vs = RectangularSensorVS;\r\n    var fs = new ShaderSource({\r\n        sources: [RectangularSensor, material.shaderSource, RectangularSensorFS]\r\n    });\r\n\r\n    primitive._sp = ShaderProgram.replaceCache({\r\n        context: context,\r\n        shaderProgram: primitive._sp,\r\n        vertexShaderSource: vs,\r\n        fragmentShaderSource: fs,\r\n        attributeLocations: attributeLocations\r\n    });\r\n\r\n    var pickFS = new ShaderSource({\r\n        sources: [RectangularSensor, material.shaderSource, RectangularSensorFS],\r\n        pickColorQualifier: 'uniform'\r\n    });\r\n\r\n    primitive._pickSP = ShaderProgram.replaceCache({\r\n        context: context,\r\n        shaderProgram: primitive._pickSP,\r\n        vertexShaderSource: vs,\r\n        fragmentShaderSource: pickFS,\r\n        attributeLocations: attributeLocations\r\n    });\r\n}\r\n\r\nfunction createScanPlaneShaderProgram(primitive, frameState, material) {\r\n    var context = frameState.context;\r\n\r\n    var vs = RectangularSensorVS;\r\n    var fs = new ShaderSource({\r\n        sources: [RectangularSensor, material.shaderSource, RectangularSensorScanPlaneFS]\r\n    });\r\n\r\n    primitive._scanePlaneSP = ShaderProgram.replaceCache({\r\n        context: context,\r\n        shaderProgram: primitive._scanePlaneSP,\r\n        vertexShaderSource: vs,\r\n        fragmentShaderSource: fs,\r\n        attributeLocations: attributeLocations\r\n    });\r\n}\r\n\r\nfunction createShaderProgram(primitive, frameState, material) {\r\n    createCommonShaderProgram(primitive, frameState, material);\r\n\r\n    if (primitive.showScanPlane) {\r\n        createScanPlaneShaderProgram(primitive, frameState, material);\r\n    }\r\n}\r\n\r\n//endregion\r\n\r\n//region -- RenderState --\r\n\r\nfunction createRenderState(primitive, showThroughEllipsoid, translucent) {\r\n    if (translucent) {\r\n        primitive._frontFaceRS = RenderState.fromCache({\r\n            depthTest: {\r\n                enabled: !showThroughEllipsoid\r\n            },\r\n            depthMask: false,\r\n            blending: BlendingState.ALPHA_BLEND,\r\n            cull: {\r\n                enabled: true,\r\n                face: CullFace.BACK\r\n            }\r\n        });\r\n\r\n        primitive._backFaceRS = RenderState.fromCache({\r\n            depthTest: {\r\n                enabled: !showThroughEllipsoid\r\n            },\r\n            depthMask: false,\r\n            blending: BlendingState.ALPHA_BLEND,\r\n            cull: {\r\n                enabled: true,\r\n                face: CullFace.FRONT\r\n            }\r\n        });\r\n\r\n        primitive._pickRS = RenderState.fromCache({\r\n            depthTest: {\r\n                enabled: !showThroughEllipsoid\r\n            },\r\n            depthMask: false,\r\n            blending: BlendingState.ALPHA_BLEND\r\n        });\r\n    } else {\r\n        primitive._frontFaceRS = RenderState.fromCache({\r\n            depthTest: {\r\n                enabled: !showThroughEllipsoid\r\n            },\r\n            depthMask: true\r\n        });\r\n\r\n        primitive._pickRS = RenderState.fromCache({\r\n            depthTest: {\r\n                enabled: true\r\n            },\r\n            depthMask: true\r\n        });\r\n    }\r\n}\r\n\r\n//endregion\r\n\r\n//region -- Command --\r\n\r\nfunction createCommand(primitive, frontCommand, backCommand, frontFaceRS, backFaceRS, sp, va, uniforms, modelMatrix, translucent, pass, isLine) {\r\n    if (translucent && backCommand) {\r\n        backCommand.vertexArray = va;\r\n        backCommand.renderState = backFaceRS;\r\n        backCommand.shaderProgram = sp;\r\n        backCommand.uniformMap = combine(uniforms, primitive._material._uniforms);\r\n        backCommand.uniformMap.u_normalDirection = function () {\r\n            return -1.0;\r\n        };\r\n        backCommand.pass = pass;\r\n        backCommand.modelMatrix = modelMatrix;\r\n        primitive._colorCommands.push(backCommand);\r\n    }\r\n\r\n    frontCommand.vertexArray = va;\r\n    frontCommand.renderState = frontFaceRS;\r\n    frontCommand.shaderProgram = sp;\r\n    frontCommand.uniformMap = combine(uniforms, primitive._material._uniforms);\r\n    if (isLine) {\r\n        frontCommand.uniformMap.u_type = function () {\r\n            return 1;\r\n        }\r\n    }\r\n    frontCommand.pass = pass;\r\n    frontCommand.modelMatrix = modelMatrix;\r\n    primitive._colorCommands.push(frontCommand);\r\n}\r\n\r\nfunction createCommands(primitive, translucent) {\r\n    primitive._colorCommands.length = 0;\r\n\r\n    var pass = translucent ? Pass.TRANSLUCENT : Pass.OPAQUE;\r\n\r\n    //显示扇面\r\n    if (primitive.showLateralSurfaces) {\r\n        createCommand(primitive, primitive._sectorFrontCommand, primitive._sectorBackCommand, primitive._frontFaceRS,\r\n            primitive._backFaceRS, primitive._sp, primitive._sectorVA, primitive._uniforms, primitive._computedModelMatrix, translucent, pass);\r\n    }\r\n    //显示扇面线\r\n    if (primitive.showSectorLines) {\r\n        createCommand(primitive, primitive._sectorLineCommand, undefined, primitive._frontFaceRS, primitive._backFaceRS,\r\n            primitive._sp, primitive._sectorLineVA, primitive._uniforms, primitive._computedModelMatrix, translucent, pass, true);\r\n    }\r\n    //显示扇面交接线\r\n    if (primitive.showSectorSegmentLines) {\r\n        createCommand(primitive, primitive._sectorSegmentLineCommand, undefined, primitive._frontFaceRS, primitive._backFaceRS,\r\n            primitive._sp, primitive._sectorSegmentLineVA, primitive._uniforms, primitive._computedModelMatrix, translucent, pass, true);\r\n    }\r\n    //显示弧面\r\n    if (primitive.showDomeSurfaces) {\r\n        createCommand(primitive, primitive._domeFrontCommand, primitive._domeBackCommand, primitive._frontFaceRS,\r\n            primitive._backFaceRS, primitive._sp, primitive._domeVA, primitive._uniforms, primitive._computedModelMatrix, translucent, pass);\r\n    }\r\n    //显示弧面线\r\n    if (primitive.showDomeLines) {\r\n        createCommand(primitive, primitive._domeLineCommand, undefined, primitive._frontFaceRS, primitive._backFaceRS,\r\n            primitive._sp, primitive._domeLineVA, primitive._uniforms, primitive._computedModelMatrix, translucent, pass, true);\r\n    }\r\n    //显示扫描面\r\n    if (primitive.showScanPlane) {\r\n        createCommand(primitive, primitive._scanPlaneFrontCommand, primitive._scanPlaneBackCommand, primitive._frontFaceRS,\r\n            primitive._backFaceRS, primitive._scanePlaneSP, primitive._scanPlaneVA, primitive._scanUniforms, primitive._computedScanPlaneModelMatrix, translucent, pass);\r\n    }\r\n}\r\n\r\n//endregion\r\n\r\nexport {RectangularSensorPrimitive};\r\n\n\n\n// WEBPACK FOOTER //\n// ./Source/Sensor/RectangularSensor/RectangularSensorPrimitive.js","import Cesium from 'Cesium';\r\n\r\nvar BoundingSphere = Cesium.BoundingSphere,\r\n    Cartesian3 = Cesium.Cartesian3,\r\n    Check = Cesium.Check,\r\n    ComponentDatatype = Cesium.ComponentDatatype,\r\n    defaultValue = Cesium.defaultValue,\r\n    defined = Cesium.defined,\r\n    Geometry = Cesium.Geometry,\r\n    GeometryAttribute = Cesium.GeometryAttribute,\r\n    GeometryAttributes = Cesium.GeometryAttributes,\r\n    PrimitiveType = Cesium.PrimitiveType,\r\n    VertexFormat = Cesium.VertexFormat,\r\n    CesiumMath = Cesium.Math,\r\n    GeometryPipeline = Cesium.GeometryPipeline,\r\n    IndexDatatype = Cesium.IndexDatatype,\r\n    Ellipsoid = Cesium.Ellipsoid;\r\n\r\nvar cos = Math.cos;\r\nvar sin = Math.sin;\r\n\r\nfunction ConicArcSensorGeometry(options) {\r\n    options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n\r\n    var angle = options.angle;\r\n    var radius = options.radius;\r\n\r\n    var stackPartitions = Math.round(defaultValue(options.stackPartitions, 12));\r\n    var slicePartitions = Math.round(defaultValue(options.slicePartitions, 64));\r\n\r\n    //>>includeStart('debug', pragmas.debug);\r\n    Check.typeOf.number('angle', angle);\r\n    Check.typeOf.number('radius', radius);\r\n    //>>includeEnd('debug');\r\n\r\n    var vertexFormat = defaultValue(options.vertexFormat, VertexFormat.DEFAULT);\r\n\r\n    this._angle = angle;\r\n    this._radius = radius;\r\n    this._stackPartitions = stackPartitions;\r\n    this._slicePartitions = slicePartitions;\r\n    this._vertexFormat = vertexFormat;\r\n}\r\n\r\nConicArcSensorGeometry.fromDimensions = function (options) {\r\n    options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n    var angle = options.angle;\r\n    var radius = options.radius;\r\n    var stackPartitions = options.stackPartitions;\r\n    var slicePartitions = options.slicePartitions;\r\n\r\n    //>>includeStart('debug', pragmas.debug);\r\n    Check.typeOf.number('angle', angle);\r\n    Check.typeOf.number('radius', radius);\r\n    Check.typeOf.number.greaterThanOrEquals('angle', angle, 0);\r\n    Check.typeOf.number.greaterThanOrEquals('height', height, 0);\r\n    //>>includeEnd('debug');\r\n\r\n    return new ConicArcSensorGeometry({\r\n        angle: angle,\r\n        radius: radius,\r\n        stackPartitions: stackPartitions,\r\n        slicePartitions: slicePartitions,\r\n        vertexFormat: options.vertexFormat\r\n    });\r\n};\r\n\r\nConicArcSensorGeometry.createGeometry = function (conicSensorGeometry) {\r\n    console.time('createGeometry');\r\n\r\n    var angle = conicSensorGeometry._angle;\r\n    var radius = conicSensorGeometry._radius;\r\n    var stackPartitions = conicSensorGeometry._stackPartitions + 1;\r\n    var slicePartitions = conicSensorGeometry._slicePartitions + 1;\r\n    var vertexFormat = conicSensorGeometry._vertexFormat;\r\n\r\n    var attributes = new GeometryAttributes();\r\n\r\n    var bottomIndex;\r\n\r\n    var numIndices = 3 * (slicePartitions - 1) + 6 * (slicePartitions - 1) * (stackPartitions - 2) + (slicePartitions - 1) * 1 * 3;\r\n    var vertexCount = stackPartitions * slicePartitions;\r\n    var indices = IndexDatatype.createTypedArray(vertexCount, numIndices);\r\n    var positions = new Float64Array(vertexCount * 3 + (slicePartitions - 1) * 3 * 3);\r\n\r\n    if (vertexFormat.position) {\r\n        var positionIndex = 0;\r\n\r\n        //bottom plat\r\n        var cosTheta = new Array(slicePartitions);\r\n        var sinTheta = new Array(slicePartitions);\r\n\r\n        for (var i = 0; i < slicePartitions; i++) {\r\n            var theta = CesiumMath.TWO_PI * i / (slicePartitions - 1);\r\n            cosTheta[i] = cos(theta);\r\n            sinTheta[i] = sin(theta);\r\n\r\n            positions[positionIndex++] = 0.0;\r\n            positions[positionIndex++] = 0.0;\r\n            positions[positionIndex++] = -radius;\r\n        }\r\n\r\n        for (i = 1; i < stackPartitions; i++) {\r\n            var phi = angle * i / (stackPartitions - 1);\r\n            var sinPhi = sin(phi);\r\n\r\n            var xSinPhi = radius * sinPhi;\r\n            var ySinPhi = radius * sinPhi;\r\n            var zCosPhi = radius * cos(phi);\r\n\r\n            for (var j = 0; j < slicePartitions; j++) {\r\n                positions[positionIndex++] = cosTheta[j] * xSinPhi;\r\n                positions[positionIndex++] = sinTheta[j] * ySinPhi;\r\n                positions[positionIndex++] = -zCosPhi;\r\n            }\r\n        }\r\n\r\n        //side plat\r\n        bottomIndex = positionIndex;\r\n        for (var i = 0; i < slicePartitions - 1; i++) {\r\n            positions[positionIndex++] = 0;\r\n            positions[positionIndex++] = 0;\r\n            positions[positionIndex++] = 0;\r\n\r\n            positions[positionIndex++] = positions[bottomIndex - (slicePartitions - i - 1) * 3];\r\n            positions[positionIndex++] = positions[bottomIndex - (slicePartitions - i - 1) * 3 + 1];\r\n            positions[positionIndex++] = positions[bottomIndex - (slicePartitions - i - 1) * 3 + 2];\r\n\r\n            positions[positionIndex++] = positions[bottomIndex - (slicePartitions - i) * 3];\r\n            positions[positionIndex++] = positions[bottomIndex - (slicePartitions - i) * 3 + 1];\r\n            positions[positionIndex++] = positions[bottomIndex - (slicePartitions - i) * 3 + 2];\r\n        }\r\n\r\n        attributes.position = new GeometryAttribute({\r\n            componentDatatype: ComponentDatatype.DOUBLE,\r\n            componentsPerAttribute: 3,\r\n            values: positions\r\n        });\r\n    }\r\n\r\n    var indicesIndex = 0;\r\n\r\n    //bottom plat\r\n    for (var j = 0; j < slicePartitions - 1; j++) {\r\n        indices[indicesIndex++] = slicePartitions + j;\r\n        indices[indicesIndex++] = slicePartitions + j + 1;\r\n        indices[indicesIndex++] = j + 1;\r\n    }\r\n\r\n    var topOffset;\r\n    var bottomOffset;\r\n    for (var i = 1; i < stackPartitions - 1; i++) {\r\n        topOffset = i * slicePartitions;\r\n        bottomOffset = (i + 1) * slicePartitions;\r\n\r\n        for (j = 0; j < slicePartitions - 1; j++) {\r\n            indices[indicesIndex++] = bottomOffset + j;\r\n            indices[indicesIndex++] = bottomOffset + j + 1;\r\n            indices[indicesIndex++] = topOffset + j + 1;\r\n\r\n            indices[indicesIndex++] = bottomOffset + j;\r\n            indices[indicesIndex++] = topOffset + j + 1;\r\n            indices[indicesIndex++] = topOffset + j;\r\n        }\r\n    }\r\n\r\n    //side plat\r\n    for (var i = 0, len = (slicePartitions - 1) * 3; i < len; i++) {\r\n        indices[indicesIndex++] = i + bottomIndex / 3;\r\n    }\r\n\r\n\r\n    var geometry = new Geometry({\r\n        attributes: attributes,\r\n        indices: indices,\r\n        primitiveType: PrimitiveType.TRIANGLES,\r\n        boundingSphere: new BoundingSphere(Cartesian3.ZERO, radius)\r\n    });\r\n    geometry = GeometryPipeline.computeNormal(geometry);\r\n    console.timeEnd('createGeometry');\r\n    return geometry;\r\n};\r\n\r\nexport {ConicArcSensorGeometry}\r\n\n\n\n// WEBPACK FOOTER //\n// ./Source/Sensor/ConicArcSensor/ConicArcSensorGeometry.js","import Cesium from 'Cesium';\r\n\r\nvar BoundingSphere = Cesium.BoundingSphere,\r\n    Cartesian3 = Cesium.Cartesian3,\r\n    ComponentDatatype = Cesium.ComponentDatatype,\r\n    defaultValue = Cesium.defaultValue,\r\n    defined = Cesium.defined,\r\n    DeveloperError = Cesium.DeveloperError,\r\n    Ellipsoid = Cesium.Ellipsoid,\r\n    Geometry = Cesium.Geometry,\r\n    GeometryAttribute = Cesium.GeometryAttribute,\r\n    GeometryAttributes = Cesium.GeometryAttributes,\r\n    IndexDatatype = Cesium.IndexDatatype,\r\n    CesiumMath = Cesium.Math,\r\n    PrimitiveType = Cesium.PrimitiveType;\r\n\r\nvar defaultRadii = new Cartesian3(1.0, 1.0, 1.0);\r\nvar cos = Math.cos;\r\nvar sin = Math.sin;\r\n\r\nfunction ConicArcSensorOutlineGeometry(options) {\r\n    options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n\r\n    var angle = options.angle;\r\n    var radius = options.radius;\r\n\r\n    var stackPartitions = Math.round(defaultValue(options.stackPartitions, 10));\r\n    var slicePartitions = Math.round(defaultValue(options.slicePartitions, 8));\r\n    var subdivisions = Math.round(defaultValue(options.subdivisions, 128));\r\n\r\n    //>>includeStart('debug', pragmas.debug);\r\n    if (stackPartitions < 1) {\r\n        throw new DeveloperError('options.stackPartitions cannot be less than 1');\r\n    }\r\n    if (slicePartitions < 0) {\r\n        throw new DeveloperError('options.slicePartitions cannot be less than 0');\r\n    }\r\n    if (subdivisions < 0) {\r\n        throw new DeveloperError('options.subdivisions must be greater than or equal to zero.');\r\n    }\r\n    //>>includeEnd('debug');\r\n\r\n    this._angle = angle;\r\n    this._radius = radius;\r\n    this._stackPartitions = stackPartitions;\r\n    this._slicePartitions = slicePartitions;\r\n    this._subdivisions = subdivisions;\r\n}\r\n\r\nConicArcSensorOutlineGeometry.createGeometry = function (conicSensorGeometry) {\r\n\r\n    var angle = conicSensorGeometry._angle;\r\n    var radius = conicSensorGeometry._radius;\r\n\r\n    if (radius <= 0 || angle <= 0) {\r\n        return;\r\n    }\r\n\r\n    var stackPartitions = conicSensorGeometry._stackPartitions;\r\n    var slicePartitions = conicSensorGeometry._slicePartitions;\r\n    var subdivisions = conicSensorGeometry._subdivisions;\r\n\r\n    var indicesSize = subdivisions * (stackPartitions + slicePartitions - 1);\r\n    var positionSize = indicesSize - slicePartitions + 2;\r\n    var positions = new Float64Array(positionSize * 3);\r\n    var indices = IndexDatatype.createTypedArray(positionSize, indicesSize * 2);\r\n\r\n    var i;\r\n    var j;\r\n    var theta;\r\n    var phi;\r\n    var cosPhi;\r\n    var sinPhi;\r\n    var index = 0;\r\n\r\n    var cosTheta = new Array(subdivisions);\r\n    var sinTheta = new Array(subdivisions);\r\n    for (i = 0; i < subdivisions; i++) {\r\n        theta = CesiumMath.TWO_PI * i / subdivisions;\r\n        cosTheta[i] = cos(theta);\r\n        sinTheta[i] = sin(theta);\r\n    }\r\n\r\n    for (i = 1; i < stackPartitions; i++) {\r\n        phi = angle * i / (stackPartitions - 1);\r\n        cosPhi = cos(phi);\r\n        sinPhi = sin(phi);\r\n\r\n        for (j = 0; j < subdivisions; j++) {\r\n            positions[index++] = radius * cosTheta[j] * sinPhi;\r\n            positions[index++] = radius * sinTheta[j] * sinPhi;\r\n            positions[index++] = -radius * cosPhi;\r\n        }\r\n    }\r\n\r\n    cosTheta.length = slicePartitions;\r\n    sinTheta.length = slicePartitions;\r\n    for (i = 0; i < slicePartitions; i++) {\r\n        theta = CesiumMath.TWO_PI * i / slicePartitions;\r\n        cosTheta[i] = cos(theta);\r\n        sinTheta[i] = sin(theta);\r\n    }\r\n\r\n    positions[index++] = 0;\r\n    positions[index++] = 0;\r\n    positions[index++] = -radius;\r\n\r\n    for (i = 1; i < subdivisions; i++) {\r\n        phi = angle * i / subdivisions;\r\n        cosPhi = cos(phi);\r\n        sinPhi = sin(phi);\r\n\r\n        for (j = 0; j < slicePartitions; j++) {\r\n            positions[index++] = radius * cosTheta[j] * sinPhi;\r\n            positions[index++] = radius * sinTheta[j] * sinPhi;\r\n            positions[index++] = -radius * cosPhi;\r\n        }\r\n    }\r\n\r\n    /*positions[index++] = 0;\r\n     positions[index++] = 0;\r\n     positions[index++] = -radii.z;*/\r\n\r\n    index = 0;\r\n    for (i = 0; i < stackPartitions - 1; ++i) {\r\n        var topRowOffset = (i * subdivisions);\r\n        for (j = 0; j < subdivisions - 1; ++j) {\r\n            indices[index++] = topRowOffset + j;\r\n            indices[index++] = topRowOffset + j + 1;\r\n        }\r\n\r\n        indices[index++] = topRowOffset + subdivisions - 1;\r\n        indices[index++] = topRowOffset;\r\n    }\r\n\r\n    var sliceOffset = subdivisions * (stackPartitions - 1);\r\n    for (j = 1; j < slicePartitions + 1; ++j) {\r\n        indices[index++] = sliceOffset;\r\n        indices[index++] = sliceOffset + j;\r\n    }\r\n\r\n    for (i = 0; i < subdivisions - 2; ++i) {\r\n        var topOffset = (i * slicePartitions) + 1 + sliceOffset;\r\n        var bottomOffset = ((i + 1) * slicePartitions) + 1 + sliceOffset;\r\n\r\n        for (j = 0; j < slicePartitions - 1; ++j) {\r\n            indices[index++] = bottomOffset + j;\r\n            indices[index++] = topOffset + j;\r\n        }\r\n\r\n        indices[index++] = bottomOffset + slicePartitions - 1;\r\n        indices[index++] = topOffset + slicePartitions - 1;\r\n    }\r\n\r\n    /*var lastPosition = positions.length / 3 - 1;\r\n     for (j = lastPosition - 1; j > lastPosition - slicePartitions - 1; --j) {\r\n     indices[index++] = lastPosition;\r\n     indices[index++] = j;\r\n     }*/\r\n\r\n    var attributes = new GeometryAttributes({\r\n        position: new GeometryAttribute({\r\n            componentDatatype: ComponentDatatype.DOUBLE,\r\n            componentsPerAttribute: 3,\r\n            values: positions\r\n        })\r\n    });\r\n\r\n    return new Geometry({\r\n        attributes: attributes,\r\n        indices: indices,\r\n        primitiveType: PrimitiveType.LINES,\r\n        boundingSphere: new BoundingSphere(Cartesian3.ZERO, radius)\r\n    });\r\n};\r\n\r\nexport {ConicArcSensorOutlineGeometry}\r\n\n\n\n// WEBPACK FOOTER //\n// ./Source/Sensor/ConicArcSensor/ConicArcSensorOutlineGeometry.js","import Cesium from 'Cesium';\r\nvar defaultValue = Cesium.defaultValue,\r\n    defined = Cesium.defined,\r\n    defineProperties = Cesium.defineProperties,\r\n    DeveloperError = Cesium.DeveloperError,\r\n    Event = Cesium.Event,\r\n    createMaterialPropertyDescriptor = Cesium.createMaterialPropertyDescriptor,\r\n    createPropertyDescriptor = Cesium.createPropertyDescriptor;\r\n\r\nfunction ConicArcSensorGraphics(options) {\r\n    this._angle = undefined;\r\n    this._angleSubscription = undefined;\r\n    this._radius = undefined;\r\n    this._radiusSubscription = undefined;\r\n    this._stack = undefined;\r\n    this._stackSubscription = undefined;\r\n    this._slice = undefined;\r\n    this._sliceSubscription = undefined;\r\n    this._color = undefined;\r\n    this._colorSubscription = undefined;\r\n    this._show = undefined;\r\n    this._showSubscription = undefined;\r\n    this._fill = undefined;\r\n    this._fillSubscription = undefined;\r\n    this._color = undefined;\r\n    this._colorSubscription = undefined;\r\n    this._material = undefined;\r\n    this._materialSubscription = undefined;\r\n    this._outline = undefined;\r\n    this._outlineSubscription = undefined;\r\n    this._outlineColor = undefined;\r\n    this._outlineColorSubscription = undefined;\r\n    this._outlineWidth = undefined;\r\n    this._outlineWidthSubscription = undefined;\r\n    this._shadows = undefined;\r\n    this._shadowsSubscription = undefined;\r\n    this._distanceDisplayCondition = undefined;\r\n    this._distanceDisplayConditionSubscription = undefined;\r\n    this._definitionChanged = new Event();\r\n\r\n    this._gaze = undefined;\r\n    this._gazeSubscription = undefined;\r\n\r\n    this.merge(defaultValue(options, defaultValue.EMPTY_OBJECT));\r\n}\r\n\r\ndefineProperties(ConicArcSensorGraphics.prototype, {\r\n    /**\r\n     * Gets the event that is raised whenever a property or sub-property is changed or modified.\r\n     * @memberof BoxGraphics.prototype\r\n     * @type {Event}\r\n     * @readonly\r\n     */\r\n    definitionChanged: {\r\n        get: function () {\r\n            return this._definitionChanged;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Gets or sets the boolean Property specifying the visibility of the box.\r\n     * @memberof BoxGraphics.prototype\r\n     * @type {Property}\r\n     * @default true\r\n     */\r\n    show: createPropertyDescriptor('show'),\r\n\r\n   /* angle: createPropertyDescriptor('angle'),\r\n\r\n    radius: createPropertyDescriptor('radius'),\r\n\r\n    stack: createPropertyDescriptor('stack'),\r\n\r\n    slice: createPropertyDescriptor('slice'),\r\n\r\n    color: createPropertyDescriptor('color'),*/\r\n\r\n    /**\r\n     * Gets or sets the material used to fill the box.\r\n     * @memberof BoxGraphics.prototype\r\n     * @type {MaterialProperty}\r\n     * @default Color.WHITE\r\n     */\r\n    material: createMaterialPropertyDescriptor('material'),\r\n\r\n    /**\r\n     * Gets or sets the boolean Property specifying whether the box is filled with the provided material.\r\n     * @memberof BoxGraphics.prototype\r\n     * @type {Property}\r\n     * @default true\r\n     */\r\n    fill: createPropertyDescriptor('fill'),\r\n\r\n    /**\r\n     * Gets or sets the Property specifying whether the box is outlined.\r\n     * @memberof BoxGraphics.prototype\r\n     * @type {Property}\r\n     * @default false\r\n     */\r\n    //outline: createPropertyDescriptor('outline'),\r\n\r\n    /**\r\n     * Gets or sets the Property specifying the {@link Color} of the outline.\r\n     * @memberof BoxGraphics.prototype\r\n     * @type {Property}\r\n     * @default Color.BLACK\r\n     */\r\n    //outlineColor: createPropertyDescriptor('outlineColor'),\r\n\r\n    /**\r\n     * Gets or sets the numeric Property specifying the width of the outline.\r\n     * @memberof BoxGraphics.prototype\r\n     * @type {Property}\r\n     * @default 1.0\r\n     */\r\n    //outlineWidth: createPropertyDescriptor('outlineWidth'),\r\n\r\n    /**\r\n     * Get or sets the enum Property specifying whether the box\r\n     * casts or receives shadows from each light source.\r\n     * @memberof BoxGraphics.prototype\r\n     * @type {Property}\r\n     * @default ShadowMode.DISABLED\r\n     */\r\n    shadows: createPropertyDescriptor('shadows'),\r\n\r\n    /**\r\n     * Gets or sets the {@link DistanceDisplayCondition} Property specifying at what distance from the camera that this box will be displayed.\r\n     * @memberof BoxGraphics.prototype\r\n     * @type {Property}\r\n     */\r\n    distanceDisplayCondition: createPropertyDescriptor('distanceDisplayCondition'),\r\n});\r\n\r\nConicArcSensorGraphics.prototype.clone = function (result) {\r\n    if (!defined(result)) {\r\n        return new ConicArcSensorGraphics(this);\r\n    }\r\n    result.angle = this.angle;\r\n    result.radius = this.radius;\r\n    result.stack = this.stack;\r\n    result.slice = this.slice;\r\n    result.show = this.show;\r\n    result.material = this.material;\r\n    result.color = this.color;\r\n    result.fill = this.fill;\r\n    result.outline = this.outline;\r\n    result.outlineColor = this.outlineColor;\r\n    result.outlineWidth = this.outlineWidth;\r\n    result.shadows = this.shadows;\r\n    result.distanceDisplayCondition = this.distanceDisplayCondition;\r\n    result.gaze = this.gaze;\r\n    return result;\r\n};\r\n\r\nConicArcSensorGraphics.prototype.merge = function (source) {\r\n    //>>includeStart('debug', pragmas.debug);\r\n    if (!defined(source)) {\r\n        throw new DeveloperError('source is required.');\r\n    }\r\n    //>>includeEnd('debug');\r\n\r\n    this.angle = defaultValue(this.angle, source.angle);\r\n    this.radius = defaultValue(this.radius, source.radius);\r\n    this.stack = defaultValue(this.stack, source.stack);\r\n    this.slice = defaultValue(this.slice, source.slice);\r\n    this.show = defaultValue(this.show, source.show);\r\n    this.color = defaultValue(this.color, source.color);\r\n    this.material = defaultValue(this.material, source.material);\r\n    this.fill = defaultValue(this.fill, source.fill);\r\n    this.outline = defaultValue(this.outline, source.outline);\r\n    this.outlineColor = defaultValue(this.outlineColor, source.outlineColor);\r\n    this.outlineWidth = defaultValue(this.outlineWidth, source.outlineWidth);\r\n    this.shadows = defaultValue(this.shadows, source.shadows);\r\n    this.distanceDisplayCondition = defaultValue(this.distanceDisplayCondition, source.distanceDisplayCondition);\r\n    this.gaze = defaultValue(this.gaze, source.gaze);\r\n};\r\n\r\nexport {ConicArcSensorGraphics};\r\n\n\n\n// WEBPACK FOOTER //\n// ./Source/Sensor/ConicArcSensor/ConicArcSensorGraphics.js","import Cesium from 'Cesium';\r\nexport * from './Sensor/Sensor';\r\nexport * from './Material/Material';\r\n\r\nimport {getLinkedPointList} from './Core/getLinkedPointList';\r\nCesium.getLinkedPointList = getLinkedPointList;\n\n\n// WEBPACK FOOTER //\n// ./Source/cesiumGeometry.js","import Cesium from \"Cesium\";\r\n\r\nimport {RectangularSensorPrimitive} from \"./RectangularSensor/RectangularSensorPrimitive\";\r\nimport {RectangularSensorGraphics} from \"./RectangularSensor/RectangularSensorGraphics\";\r\nimport {RectangularSensorVisualizer} from './RectangularSensor/RectangularSensorVisualizer';\r\n\r\n//conicSensor\r\nimport {ConicArcSensorGeometry} from './ConicArcSensor/ConicArcSensorGeometry';\r\nimport  {ConicArcSensorOutlineGeometry} from './ConicArcSensor/ConicArcSensorOutlineGeometry';\r\nimport {ConicArcSensorGraphics} from './ConicArcSensor/ConicArcSensorGraphics';\r\nimport {ConicArcSensorCollection} from './ConicArcSensor/ConicArcSensorCollection';\r\n\r\n\r\n//rectangularSensor\r\nCesium.RectangularSensorPrimitive = RectangularSensorPrimitive;\r\nCesium.RectangularSensorGraphics = RectangularSensorGraphics;\r\nCesium.RectangularSensorVisualizer = RectangularSensorVisualizer;\r\n\r\n//conicSensor\r\nCesium.ConicArcSensorGeometry = ConicArcSensorGeometry;\r\nCesium.ConicArcSensorOutlineGeometry = ConicArcSensorOutlineGeometry;\r\nCesium.ConicArcSensorGraphics = ConicArcSensorGraphics;\r\nCesium.ConicArcSensorCollection = ConicArcSensorCollection;\r\n\r\n\r\nvar DataSourceDisplay = Cesium.DataSourceDisplay;\r\nvar originalDefaultVisualizersCallback = DataSourceDisplay.defaultVisualizersCallback;\r\nDataSourceDisplay.defaultVisualizersCallback = function (scene, entityCluster, dataSource) {\r\n    var entities = dataSource.entities;\r\n    var array = originalDefaultVisualizersCallback(scene, entityCluster, dataSource);\r\n    return array.concat([\r\n        new RectangularSensorVisualizer(scene, entities)\r\n    ]);\r\n};\n\n\n// WEBPACK FOOTER //\n// ./Source/Sensor/Sensor.js","module.exports = \"attribute vec4 position;\\r\\nattribute vec3 normal;\\r\\n\\r\\nvarying vec3 v_position;\\r\\nvarying vec3 v_positionWC;\\r\\nvarying vec3 v_positionEC;\\r\\nvarying vec3 v_normalEC;\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n    gl_Position = czm_modelViewProjection * position;\\r\\n    v_position = vec3(position);\\r\\n    v_positionWC = (czm_model * position).xyz;\\r\\n    v_positionEC = (czm_modelView * position).xyz;\\r\\n    v_normalEC = czm_normal * normal;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./Source/Sensor/RectangularSensor/shaders/RectangularSensorVS.glsl\n// module id = 8\n// module chunks = 0","module.exports = \"#ifdef GL_OES_standard_derivatives\\r\\n    #extension GL_OES_standard_derivatives : enable\\r\\n#endif\\r\\n\\r\\nuniform bool u_showIntersection;\\r\\nuniform bool u_showThroughEllipsoid;\\r\\n\\r\\nuniform float u_radius;\\r\\nuniform float u_xHalfAngle;\\r\\nuniform float u_yHalfAngle;\\r\\nuniform float u_normalDirection;\\r\\nuniform float u_type;\\r\\n\\r\\nvarying vec3 v_position;\\r\\nvarying vec3 v_positionWC;\\r\\nvarying vec3 v_positionEC;\\r\\nvarying vec3 v_normalEC;\\r\\n\\r\\nvec4 getColor(float sensorRadius, vec3 pointEC)\\r\\n{\\r\\n    czm_materialInput materialInput;\\r\\n\\r\\n    vec3 pointMC = (czm_inverseModelView * vec4(pointEC, 1.0)).xyz;\\r\\n    materialInput.st = sensor2dTextureCoordinates(sensorRadius, pointMC);\\r\\n    materialInput.str = pointMC / sensorRadius;\\r\\n\\r\\n    vec3 positionToEyeEC = -v_positionEC;\\r\\n    materialInput.positionToEyeEC = positionToEyeEC;\\r\\n\\r\\n    vec3 normalEC = normalize(v_normalEC);\\r\\n    materialInput.normalEC = u_normalDirection * normalEC;\\r\\n\\r\\n    czm_material material = czm_getMaterial(materialInput);\\r\\n\\r\\n    return mix(czm_phong(normalize(positionToEyeEC), material), vec4(material.diffuse, material.alpha), 0.4);\\r\\n\\r\\n}\\r\\n\\r\\nbool isOnBoundary(float value, float epsilon)\\r\\n{\\r\\n    float width = getIntersectionWidth();\\r\\n    float tolerance = width * epsilon;\\r\\n\\r\\n#ifdef GL_OES_standard_derivatives\\r\\n    float delta = max(abs(dFdx(value)), abs(dFdy(value)));\\r\\n    float pixels = width * delta;\\r\\n    float temp = abs(value);\\r\\n    // There are a couple things going on here.\\r\\n    // First we test the value at the current fragment to see if it is within the tolerance.\\r\\n    // We also want to check if the value of an adjacent pixel is within the tolerance,\\r\\n    // but we don't want to admit points that are obviously not on the surface.\\r\\n    // For example, if we are looking for \\\"value\\\" to be close to 0, but value is 1 and the adjacent value is 2,\\r\\n    // then the delta would be 1 and \\\"temp - delta\\\" would be \\\"1 - 1\\\" which is zero even though neither of\\r\\n    // the points is close to zero.\\r\\n    return temp < tolerance && temp < pixels || (delta < 10.0 * tolerance && temp - delta < tolerance && temp < pixels);\\r\\n#else\\r\\n    return abs(value) < tolerance;\\r\\n#endif\\r\\n}\\r\\n\\r\\nvec4 shade(bool isOnBoundary)\\r\\n{\\r\\n    if (u_showIntersection && isOnBoundary)\\r\\n    {\\r\\n        return getIntersectionColor();\\r\\n    }\\r\\n    if(u_type == 1.0){\\r\\n        return getLineColor();\\r\\n    }\\r\\n    return getColor(u_radius, v_positionEC);\\r\\n}\\r\\n\\r\\nfloat ellipsoidSurfaceFunction(czm_ellipsoid ellipsoid, vec3 point)\\r\\n{\\r\\n    vec3 scaled = ellipsoid.inverseRadii * point;\\r\\n    return dot(scaled, scaled) - 1.0;\\r\\n}\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n    vec3 sensorVertexWC = czm_model[3].xyz;      // (0.0, 0.0, 0.0) in model coordinates\\r\\n    vec3 sensorVertexEC = czm_modelView[3].xyz;  // (0.0, 0.0, 0.0) in model coordinates\\r\\n\\r\\n    //vec3 pixDir = normalize(v_position);\\r\\n    float positionX = v_position.x;\\r\\n    float positionY = v_position.y;\\r\\n    float positionZ = v_position.z;\\r\\n\\r\\n    vec3 zDir = vec3(0.0, 0.0, 1.0);\\r\\n    vec3 lineX = vec3(positionX, 0 ,positionZ);\\r\\n    vec3 lineY = vec3(0, positionY, positionZ);\\r\\n    float resX = dot(normalize(lineX), zDir);\\r\\n    if(resX < cos(u_xHalfAngle)-0.00001){\\r\\n        discard;\\r\\n    }\\r\\n    float resY = dot(normalize(lineY), zDir);\\r\\n    if(resY < cos(u_yHalfAngle)-0.00001){\\r\\n        discard;\\r\\n    }\\r\\n\\r\\n\\r\\n    czm_ellipsoid ellipsoid = czm_getWgs84EllipsoidEC();\\r\\n    float ellipsoidValue = ellipsoidSurfaceFunction(ellipsoid, v_positionWC);\\r\\n\\r\\n    // Occluded by the ellipsoid?\\r\\n\\tif (!u_showThroughEllipsoid)\\r\\n\\t{\\r\\n\\t    // Discard if in the ellipsoid\\r\\n\\t    // PERFORMANCE_IDEA: A coarse check for ellipsoid intersection could be done on the CPU first.\\r\\n\\t    if (ellipsoidValue < 0.0)\\r\\n\\t    {\\r\\n            discard;\\r\\n\\t    }\\r\\n\\r\\n\\t    // Discard if in the sensor's shadow\\r\\n\\t    if (inSensorShadow(sensorVertexWC, ellipsoid, v_positionWC))\\r\\n\\t    {\\r\\n\\t        discard;\\r\\n\\t    }\\r\\n    }\\r\\n\\r\\n    // Notes: Each surface functions should have an associated tolerance based on the floating point error.\\r\\n    bool isOnEllipsoid = isOnBoundary(ellipsoidValue, czm_epsilon3);\\r\\n    //isOnEllipsoid = false;\\r\\n    //if((resX >= 0.8 && resX <= 0.81)||(resY >= 0.8 && resY <= 0.81)){\\r\\n    /*if(false){\\r\\n        gl_FragColor = vec4(1.0,0.0,0.0,1.0);\\r\\n    }else{\\r\\n        gl_FragColor = shade(isOnEllipsoid);\\r\\n    }\\r\\n*/\\r\\n    gl_FragColor = shade(isOnEllipsoid);\\r\\n\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./Source/Sensor/RectangularSensor/shaders/RectangularSensorFS.glsl\n// module id = 9\n// module chunks = 0","module.exports = \"uniform vec4 u_intersectionColor;\\nuniform float u_intersectionWidth;\\nuniform vec4 u_lineColor;\\n\\nbool inSensorShadow(vec3 coneVertexWC, czm_ellipsoid ellipsoidEC, vec3 pointWC)\\n{\\n    // Diagonal matrix from the unscaled ellipsoid space to the scaled space.    \\n    vec3 D = ellipsoidEC.inverseRadii;\\n\\n    // Sensor vertex in the scaled ellipsoid space\\n    vec3 q = D * coneVertexWC;\\n    float qMagnitudeSquared = dot(q, q);\\n    float test = qMagnitudeSquared - 1.0;\\n    \\n    // Sensor vertex to fragment vector in the ellipsoid's scaled space\\n    vec3 temp = D * pointWC - q;\\n    float d = dot(temp, q);\\n    \\n    // Behind silhouette plane and inside silhouette cone\\n    return (d < -test) && (d / length(temp) < -sqrt(test));\\n}\\n\\n///////////////////////////////////////////////////////////////////////////////\\n\\nvec4 getLineColor()\\n{\\n    return u_lineColor;\\n}\\n\\nvec4 getIntersectionColor()\\n{\\n    return u_intersectionColor;\\n}\\n\\nfloat getIntersectionWidth()\\n{\\n    return u_intersectionWidth;\\n}\\n\\nvec2 sensor2dTextureCoordinates(float sensorRadius, vec3 pointMC)\\n{\\n    // (s, t) both in the range [0, 1]\\n    float t = pointMC.z / sensorRadius;\\n    float s = 1.0 + (atan(pointMC.y, pointMC.x) / czm_twoPi);\\n    s = s - floor(s);\\n    \\n    return vec2(s, t);\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./Source/Sensor/RectangularSensor/shaders/RectangularSensor.glsl\n// module id = 10\n// module chunks = 0","module.exports = \"#ifdef GL_OES_standard_derivatives\\r\\n    #extension GL_OES_standard_derivatives : enable\\r\\n#endif\\r\\n\\r\\nuniform bool u_showIntersection;\\r\\nuniform bool u_showThroughEllipsoid;\\r\\n\\r\\nuniform float u_radius;\\r\\nuniform float u_xHalfAngle;\\r\\nuniform float u_yHalfAngle;\\r\\nuniform float u_normalDirection;\\r\\nuniform vec4 u_color;\\r\\n\\r\\nvarying vec3 v_position;\\r\\nvarying vec3 v_positionWC;\\r\\nvarying vec3 v_positionEC;\\r\\nvarying vec3 v_normalEC;\\r\\n\\r\\nvec4 getColor(float sensorRadius, vec3 pointEC)\\r\\n{\\r\\n    czm_materialInput materialInput;\\r\\n\\r\\n    vec3 pointMC = (czm_inverseModelView * vec4(pointEC, 1.0)).xyz;\\r\\n    materialInput.st = sensor2dTextureCoordinates(sensorRadius, pointMC);\\r\\n    materialInput.str = pointMC / sensorRadius;\\r\\n\\r\\n    vec3 positionToEyeEC = -v_positionEC;\\r\\n    materialInput.positionToEyeEC = positionToEyeEC;\\r\\n\\r\\n    vec3 normalEC = normalize(v_normalEC);\\r\\n    materialInput.normalEC = u_normalDirection * normalEC;\\r\\n\\r\\n    czm_material material = czm_getMaterial(materialInput);\\r\\n\\r\\n    material.diffuse = u_color.rgb;\\r\\n    material.alpha = u_color.a;\\r\\n\\r\\n    return mix(czm_phong(normalize(positionToEyeEC), material), vec4(material.diffuse, material.alpha), 0.4);\\r\\n\\r\\n}\\r\\n\\r\\nbool isOnBoundary(float value, float epsilon)\\r\\n{\\r\\n    float width = getIntersectionWidth();\\r\\n    float tolerance = width * epsilon;\\r\\n\\r\\n#ifdef GL_OES_standard_derivatives\\r\\n    float delta = max(abs(dFdx(value)), abs(dFdy(value)));\\r\\n    float pixels = width * delta;\\r\\n    float temp = abs(value);\\r\\n    // There are a couple things going on here.\\r\\n    // First we test the value at the current fragment to see if it is within the tolerance.\\r\\n    // We also want to check if the value of an adjacent pixel is within the tolerance,\\r\\n    // but we don't want to admit points that are obviously not on the surface.\\r\\n    // For example, if we are looking for \\\"value\\\" to be close to 0, but value is 1 and the adjacent value is 2,\\r\\n    // then the delta would be 1 and \\\"temp - delta\\\" would be \\\"1 - 1\\\" which is zero even though neither of\\r\\n    // the points is close to zero.\\r\\n    return temp < tolerance && temp < pixels || (delta < 10.0 * tolerance && temp - delta < tolerance && temp < pixels);\\r\\n#else\\r\\n    return abs(value) < tolerance;\\r\\n#endif\\r\\n}\\r\\n\\r\\nvec4 shade(bool isOnBoundary)\\r\\n{\\r\\n    if (u_showIntersection && isOnBoundary)\\r\\n    {\\r\\n        return getIntersectionColor();\\r\\n    }\\r\\n    return getColor(u_radius, v_positionEC);\\r\\n}\\r\\n\\r\\nfloat ellipsoidSurfaceFunction(czm_ellipsoid ellipsoid, vec3 point)\\r\\n{\\r\\n    vec3 scaled = ellipsoid.inverseRadii * point;\\r\\n    return dot(scaled, scaled) - 1.0;\\r\\n}\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n    vec3 sensorVertexWC = czm_model[3].xyz;      // (0.0, 0.0, 0.0) in model coordinates\\r\\n    vec3 sensorVertexEC = czm_modelView[3].xyz;  // (0.0, 0.0, 0.0) in model coordinates\\r\\n\\r\\n    //vec3 pixDir = normalize(v_position);\\r\\n    float positionX = v_position.x;\\r\\n    float positionY = v_position.y;\\r\\n    float positionZ = v_position.z;\\r\\n\\r\\n    vec3 zDir = vec3(0.0, 0.0, 1.0);\\r\\n    vec3 lineX = vec3(positionX, 0 ,positionZ);\\r\\n    vec3 lineY = vec3(0, positionY, positionZ);\\r\\n    float resX = dot(normalize(lineX), zDir);\\r\\n    if(resX < cos(u_xHalfAngle) - 0.0001){\\r\\n        discard;\\r\\n    }\\r\\n    float resY = dot(normalize(lineY), zDir);\\r\\n    if(resY < cos(u_yHalfAngle)- 0.0001){\\r\\n        discard;\\r\\n    }\\r\\n\\r\\n\\r\\n    czm_ellipsoid ellipsoid = czm_getWgs84EllipsoidEC();\\r\\n    float ellipsoidValue = ellipsoidSurfaceFunction(ellipsoid, v_positionWC);\\r\\n\\r\\n    // Occluded by the ellipsoid?\\r\\n\\tif (!u_showThroughEllipsoid)\\r\\n\\t{\\r\\n\\t    // Discard if in the ellipsoid\\r\\n\\t    // PERFORMANCE_IDEA: A coarse check for ellipsoid intersection could be done on the CPU first.\\r\\n\\t    if (ellipsoidValue < 0.0)\\r\\n\\t    {\\r\\n            discard;\\r\\n\\t    }\\r\\n\\r\\n\\t    // Discard if in the sensor's shadow\\r\\n\\t    if (inSensorShadow(sensorVertexWC, ellipsoid, v_positionWC))\\r\\n\\t    {\\r\\n\\t        discard;\\r\\n\\t    }\\r\\n    }\\r\\n\\r\\n    // Notes: Each surface functions should have an associated tolerance based on the floating point error.\\r\\n    bool isOnEllipsoid = isOnBoundary(ellipsoidValue, czm_epsilon3);\\r\\n    gl_FragColor = shade(isOnEllipsoid);\\r\\n\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./Source/Sensor/RectangularSensor/shaders/RectangularSensorScanPlaneFS.glsl\n// module id = 11\n// module chunks = 0","import Cesium from \"Cesium\";\r\n\r\nvar defaultValue = Cesium.defaultValue;\r\nvar defined = Cesium.defined;\r\nvar defineProperties = Cesium.defineProperties;\r\nvar DeveloperError = Cesium.DeveloperError;\r\nvar Event = Cesium.Event;\r\nvar createMaterialPropertyDescriptor = Cesium.createMaterialPropertyDescriptor;\r\nvar createPropertyDescriptor = Cesium.createPropertyDescriptor;\r\n\r\nfunction RectangularSensorGraphics(options) {\r\n    this._show = undefined;\r\n    this._radius = undefined;\r\n    this._xHalfAngle = undefined;\r\n    this._yHalfAngle = undefined;\r\n    this._lineColor = undefined;\r\n    this._showSectorLines = undefined;\r\n    this._showSectorSegmentLines = undefined;\r\n    this._showLateralSurfaces = undefined;\r\n    this._material = undefined;\r\n    this._showDomeSurfaces = undefined;\r\n    this._showDomeLines = undefined;\r\n    this._showIntersection = undefined;\r\n    this._intersectionColor = undefined;\r\n    this._intersectionWidth = undefined;\r\n    this._showThroughEllipsoid = undefined;\r\n    this._gaze = undefined;\r\n    this._showScanPlane = undefined;\r\n    this._scanPlaneColor = undefined;\r\n    this._scanPlaneMode = undefined;\r\n    this._scanPlaneRate = undefined;\r\n    this._definitionChanged = new Event();\r\n    this.merge(defaultValue(options, defaultValue.EMPTY_OBJECT));\r\n}\r\n\r\ndefineProperties(RectangularSensorGraphics.prototype, {\r\n    definitionChanged: {\r\n        get: function () {\r\n            return this._definitionChanged;\r\n        }\r\n    },\r\n\r\n    show: createPropertyDescriptor('show'),\r\n    radius: createPropertyDescriptor('radius'),\r\n    xHalfAngle: createPropertyDescriptor('xHalfAngle'),\r\n    yHalfAngle: createPropertyDescriptor('yHalfAngle'),\r\n    lineColor: createPropertyDescriptor('lineColor'),\r\n    showSectorLines: createPropertyDescriptor('showSectorLines'),\r\n    showSectorSegmentLines: createPropertyDescriptor('showSectorSegmentLines'),\r\n    showLateralSurfaces: createPropertyDescriptor('showLateralSurfaces'),\r\n    material: createMaterialPropertyDescriptor('material'),\r\n    showDomeSurfaces: createPropertyDescriptor('showDomeSurfaces'),\r\n    showDomeLines: createPropertyDescriptor('showDomeLines '),\r\n    showIntersection: createPropertyDescriptor('showIntersection'),\r\n    intersectionColor: createPropertyDescriptor('intersectionColor'),\r\n    intersectionWidth: createPropertyDescriptor('intersectionWidth'),\r\n    showThroughEllipsoid: createPropertyDescriptor('showThroughEllipsoid'),\r\n    gaze: createPropertyDescriptor('gaze'),\r\n    showScanPlane: createPropertyDescriptor('showScanPlane'),\r\n    scanPlaneColor: createPropertyDescriptor('scanPlaneColor'),\r\n    scanPlaneMode: createPropertyDescriptor('scanPlaneMode'),\r\n    scanPlaneRate: createPropertyDescriptor('scanPlaneRate'),\r\n});\r\n\r\nRectangularSensorGraphics.prototype.clone = function (result) {\r\n    if (!defined(result)) {\r\n        result = new RectangularSensorGraphics();\r\n    }\r\n\r\n    result.show = this.show;\r\n    result.radius = this.radius;\r\n    result.xHalfAngle = this.xHalfAngle;\r\n    result.yHalfAngle = this.yHalfAngle;\r\n    result.lineColor = this.lineColor;\r\n    result.showSectorLines = this.showSectorLines;\r\n    result.showSectorSegmentLines = this.showSectorSegmentLines;\r\n    result.showLateralSurfaces = this.showLateralSurfaces;\r\n    result.material = this.material;\r\n    result.showDomeSurfaces = this.showDomeSurfaces;\r\n    result.showDomeLines = this.showDomeLines;\r\n    result.showIntersection = this.showIntersection;\r\n    result.intersectionColor = this.intersectionColor;\r\n    result.intersectionWidth = this.intersectionWidth;\r\n    result.showThroughEllipsoid = this.showThroughEllipsoid;\r\n    result.gaze = this.gaze;\r\n    result.showScanPlane = this.showScanPlane;\r\n    result.scanPlaneColor = this.scanPlaneColor;\r\n    result.scanPlaneMode = this.scanPlaneMode;\r\n    result.scanPlaneRate = this.scanPlaneRate;\r\n\r\n    return result;\r\n};\r\n\r\nRectangularSensorGraphics.prototype.merge = function (source) {\r\n    if (!defined(source)) {\r\n        throw new DeveloperError('source is required.');\r\n    }\r\n\r\n    this.show = defaultValue(this.show, source.show);\r\n    this.radius = defaultValue(this.radius, source.radius);\r\n    this.xHalfAngle = defaultValue(this.xHalfAngle, source.xHalfAngle);\r\n    this.yHalfAngle = defaultValue(this.yHalfAngle, source.yHalfAngle);\r\n    this.lineColor = defaultValue(this.lineColor, source.lineColor);\r\n    this.showSectorLines = defaultValue(this.showSectorLines, source.showSectorLines);\r\n    this.showSectorSegmentLines = defaultValue(this.showSectorSegmentLines, source.showSectorSegmentLines);\r\n    this.showLateralSurfaces = defaultValue(this.showLateralSurfaces, source.showLateralSurfaces);\r\n    this.material = defaultValue(this.material, source.material);\r\n    this.showDomeSurfaces = defaultValue(this.showDomeSurfaces, source.showDomeSurfaces);\r\n    this.showDomeLines = defaultValue(this.showDomeLines, source.showDomeLines);\r\n    this.showIntersection = defaultValue(this.showIntersection, source.showIntersection);\r\n    this.intersectionColor = defaultValue(this.intersectionColor, source.intersectionColor);\r\n    this.intersectionWidth = defaultValue(this.intersectionWidth, source.intersectionWidth);\r\n    this.showThroughEllipsoid = defaultValue(this.showThroughEllipsoid, source.showThroughEllipsoid);\r\n    this.gaze = defaultValue(this.gaze, source.gaze);\r\n    this.showScanPlane = defaultValue(this.showScanPlane, source.showScanPlane);\r\n    this.scanPlaneColor = defaultValue(this.scanPlaneColor, source.scanPlaneColor);\r\n    this.scanPlaneMode = defaultValue(this.scanPlaneMode, source.scanPlaneMode);\r\n    this.scanPlaneRate = defaultValue(this.scanPlaneRate, source.scanPlaneRate);\r\n};\r\n\r\nexport {RectangularSensorGraphics};\n\n\n// WEBPACK FOOTER //\n// ./Source/Sensor/RectangularSensor/RectangularSensorGraphics.js","import Cesium from \"Cesium\";\r\nimport {RectangularSensorPrimitive} from \"./RectangularSensorPrimitive\";\r\nimport {removePrimitive} from \"../../Core/remove-primitive\";\r\n\r\nvar AssociativeArray = Cesium.AssociativeArray;\r\nvar Cartesian3 = Cesium.Cartesian3;\r\nvar Color = Cesium.Color;\r\nvar defined = Cesium.defined;\r\nvar destroyObject = Cesium.destroyObject;\r\nvar DeveloperError = Cesium.DeveloperError;\r\nvar Matrix3 = Cesium.Matrix3;\r\nvar Matrix4 = Cesium.Matrix4;\r\nvar Quaternion = Cesium.Quaternion;\r\nvar MaterialProperty = Cesium.MaterialProperty;\r\nvar Property = Cesium.Property;\r\n\r\nvar matrix3Scratch = new Matrix3();\r\nvar matrix4Scratch = new Matrix4();\r\nvar cachedPosition = new Cartesian3();\r\nvar cachedGazePosition = new Cartesian3();\r\nvar cachedOrientation = new Quaternion();\r\nvar diffVectorScratch = new Cartesian3();\r\nvar orientationScratch = new Quaternion();\r\n\r\nvar RectangularSensorVisualizer = function (scene, entityCollection) {\r\n    // >>includeStart('debug', pragmas.debug);\r\n    if (!defined(scene)) {\r\n        throw new DeveloperError('scene is required.');\r\n    }\r\n    if (!defined(entityCollection)) {\r\n        throw new DeveloperError('entityCollection is required.');\r\n    }\r\n    // >>includeEnd('debug');\r\n\r\n    entityCollection.collectionChanged.addEventListener(RectangularSensorVisualizer.prototype._onCollectionChanged, this);\r\n\r\n    this._scene = scene;\r\n    this._primitives = scene.primitives;\r\n    this._entityCollection = entityCollection;\r\n    this._hash = {};\r\n    this._entitiesToVisualize = new AssociativeArray();\r\n\r\n    this._onCollectionChanged(entityCollection, entityCollection.values, [], []);\r\n};\r\n\r\n/**\r\n * Updates the primitives created by this visualizer to match their\r\n * Entity counterpart at the given time.\r\n *\r\n * @param {JulianDate} time The time to update to.\r\n * @returns {Boolean} This function always returns true.\r\n */\r\nRectangularSensorVisualizer.prototype.update = function (time) {\r\n    // >>includeStart('debug', pragmas.debug);\r\n    if (!defined(time)) {\r\n        throw new DeveloperError('time is required.');\r\n    }\r\n    // >>includeEnd('debug');\r\n\r\n    var entities = this._entitiesToVisualize.values;\r\n    var hash = this._hash;\r\n    var primitives = this._primitives;\r\n\r\n    for (var i = 0, len = entities.length; i < len; i++) {\r\n        var entity = entities[i];\r\n        var rectangularSensorGraphics = entity._rectangularSensor;\r\n\r\n        var position;\r\n        var orientation;\r\n        var radius;\r\n        var xHalfAngle;\r\n        var yHalfAngle;\r\n        var data = hash[entity.id];\r\n        var show = entity.isShowing && entity.isAvailable(time) && Property.getValueOrDefault(rectangularSensorGraphics._show, time, true);\r\n\r\n        if (show) {\r\n            position = Property.getValueOrUndefined(entity._position, time, cachedPosition);\r\n            orientation = Property.getValueOrUndefined(entity._orientation, time, cachedOrientation);\r\n            radius = Property.getValueOrUndefined(rectangularSensorGraphics._radius, time);\r\n            xHalfAngle = Property.getValueOrUndefined(rectangularSensorGraphics._xHalfAngle, time);\r\n            yHalfAngle = Property.getValueOrUndefined(rectangularSensorGraphics._yHalfAngle, time);\r\n            show = defined(position) && defined(xHalfAngle) && defined(yHalfAngle);\r\n        }\r\n\r\n        if (!show) {\r\n            // don't bother creating or updating anything else\r\n            if (defined(data)) {\r\n                data.primitive.show = false;\r\n            }\r\n            continue;\r\n        }\r\n\r\n        var primitive = defined(data) ? data.primitive : undefined;\r\n        if (!defined(primitive)) {\r\n            primitive = new RectangularSensorPrimitive();\r\n            primitive.id = entity;\r\n            primitives.add(primitive);\r\n\r\n            data = {\r\n                primitive: primitive,\r\n                position: undefined,\r\n                orientation: undefined\r\n            };\r\n            hash[entity.id] = data;\r\n        }\r\n\r\n        var gaze = Property.getValueOrUndefined(rectangularSensorGraphics._gaze, time);\r\n        if (defined(gaze)) {\r\n\r\n            var targetPosition = Property.getValueOrUndefined(gaze._position, time, cachedGazePosition);\r\n\r\n            if (!defined(position) || !defined(targetPosition)) {\r\n                continue;\r\n            }\r\n\r\n            var diffVector = Cartesian3.subtract(position, targetPosition, diffVectorScratch);\r\n            var rotate = Cartesian3.angleBetween(Cesium.Cartesian3.UNIT_Z, diffVector);\r\n            var cross = Cartesian3.cross(Cesium.Cartesian3.UNIT_Z, diffVector, diffVectorScratch);\r\n            var orientation = Quaternion.fromAxisAngle(cross, (rotate - Math.PI), orientationScratch);\r\n\r\n            //replace original radius\r\n            radius = Cartesian3.distance(position, targetPosition);\r\n            primitive.modelMatrix = Matrix4.fromRotationTranslation(Matrix3.fromQuaternion(orientation, matrix3Scratch), position, primitive.modelMatrix);\r\n        } else {\r\n            if (!Cartesian3.equals(position, data.position) || !Quaternion.equals(orientation, data.orientation)) {\r\n                if (defined(orientation)) {\r\n                    primitive.modelMatrix = Matrix4.fromRotationTranslation(Matrix3.fromQuaternion(orientation, matrix3Scratch), position, primitive.modelMatrix);\r\n                    data.position = Cartesian3.clone(position, data.position);\r\n                    data.orientation = Quaternion.clone(orientation, data.orientation);\r\n                } else {\r\n                    primitive.modelMatrix = Cesium.Transforms.eastNorthUpToFixedFrame(position);\r\n                    data.position = Cartesian3.clone(position, data.position);\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        primitive.show = true;\r\n        primitive.gaze = gaze;\r\n        primitive.radius = radius;\r\n        primitive.xHalfAngle = xHalfAngle;\r\n        primitive.yHalfAngle = yHalfAngle;\r\n        primitive.lineColor = Property.getValueOrDefault(rectangularSensorGraphics._lineColor, time, Color.WHITE);\r\n        primitive.showSectorLines = Property.getValueOrDefault(rectangularSensorGraphics._showSectorLines, time, true);\r\n        primitive.showSectorSegmentLines = Property.getValueOrDefault(rectangularSensorGraphics._showSectorSegmentLines, time, true);\r\n        primitive.showLateralSurfaces = Property.getValueOrDefault(rectangularSensorGraphics._showLateralSurfaces, time, true);\r\n        primitive.material = MaterialProperty.getValue(time, rectangularSensorGraphics._material, primitive.material);\r\n        primitive.showDomeSurfaces = Property.getValueOrDefault(rectangularSensorGraphics._showDomeSurfaces, time, true);\r\n        primitive.showDomeLines = Property.getValueOrDefault(rectangularSensorGraphics._showDomeLines, time, true);\r\n        primitive.showIntersection = Property.getValueOrDefault(rectangularSensorGraphics._showIntersection, time, true);\r\n        primitive.intersectionColor = Property.getValueOrDefault(rectangularSensorGraphics._intersectionColor, time, Color.WHITE);\r\n        primitive.intersectionWidth = Property.getValueOrDefault(rectangularSensorGraphics._intersectionWidth, time, 1);\r\n        primitive.showThroughEllipsoid = Property.getValueOrDefault(rectangularSensorGraphics._showThroughEllipsoid, time, true);\r\n        primitive.scanPlaneMode = Property.getValueOrDefault(rectangularSensorGraphics._scanPlaneMode, time);\r\n        primitive.scanPlaneColor = Property.getValueOrDefault(rectangularSensorGraphics._scanPlaneColor, time, Color.WHITE);\r\n        primitive.showScanPlane = Property.getValueOrDefault(rectangularSensorGraphics._showScanPlane, time, true);\r\n        primitive.scanPlaneRate = Property.getValueOrDefault(rectangularSensorGraphics._scanPlaneRate, time, 1);\r\n    }\r\n    return true;\r\n};\r\n\r\n/**\r\n * Returns true if this object was destroyed; otherwise, false.\r\n *\r\n * @returns {Boolean} True if this object was destroyed; otherwise, false.\r\n */\r\nRectangularSensorVisualizer.prototype.isDestroyed = function () {\r\n    return false;\r\n};\r\n\r\n/**\r\n * Removes and destroys all primitives created by this instance.\r\n */\r\nRectangularSensorVisualizer.prototype.destroy = function () {\r\n    var entities = this._entitiesToVisualize.values;\r\n    var hash = this._hash;\r\n    var primitives = this._primitives;\r\n    for (var i = entities.length - 1; i > -1; i--) {\r\n        removePrimitive(entities[i], hash, primitives);\r\n    }\r\n    return destroyObject(this);\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nRectangularSensorVisualizer.prototype._onCollectionChanged = function (entityCollection, added, removed, changed) {\r\n    var i;\r\n    var entity;\r\n    var entities = this._entitiesToVisualize;\r\n    var hash = this._hash;\r\n    var primitives = this._primitives;\r\n\r\n    for (i = added.length - 1; i > -1; i--) {\r\n        entity = added[i];\r\n        if (defined(entity._rectangularSensor) && defined(entity._position)) {\r\n            entities.set(entity.id, entity);\r\n        }\r\n    }\r\n\r\n    for (i = changed.length - 1; i > -1; i--) {\r\n        entity = changed[i];\r\n        if (defined(entity._rectangularSensor) && defined(entity._position)) {\r\n            entities.set(entity.id, entity);\r\n        } else {\r\n            removePrimitive(entity, hash, primitives);\r\n            entities.remove(entity.id);\r\n        }\r\n    }\r\n\r\n    for (i = removed.length - 1; i > -1; i--) {\r\n        entity = removed[i];\r\n        removePrimitive(entity, hash, primitives);\r\n        entities.remove(entity.id);\r\n    }\r\n};\r\n\r\nexport {RectangularSensorVisualizer};\r\n\n\n\n// WEBPACK FOOTER //\n// ./Source/Sensor/RectangularSensor/RectangularSensorVisualizer.js","import Cesium from \"Cesium\";\r\n\r\nvar defined = Cesium.defined;\r\n\r\nexport function removePrimitive(entity, hash, primitives) {\r\n    var data = hash[entity.id];\r\n    if (defined(data)) {\r\n        var primitive = data.primitive;\r\n        primitives.remove(primitive);\r\n        if (!primitive.isDestroyed()) {\r\n            primitive.destroy();\r\n        }\r\n        delete hash[entity.id];\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./Source/Core/remove-primitive.js","import Cesium from \"Cesium\";\r\nimport {ConicArcSensorGeometry} from \"./ConicArcSensorGeometry\";\r\nimport {ConicArcSensorOutlineGeometry} from \"./ConicArcSensorOutlineGeometry\";\r\nimport {ConicArcSensor} from \"./ConicArcSensor\";\r\n\r\nvar defaultValue = Cesium.defaultValue;\r\nvar defined = Cesium.defined;\r\nvar Viewer = Cesium.Viewer;\r\nvar Transforms = Cesium.Transforms;\r\nvar DeveloperError = Cesium.DeveloperError;\r\nvar ColorGeometryInstanceAttribute = Cesium.ColorGeometryInstanceAttribute;\r\nvar Color = Cesium.Color;\r\nvar Primitive = Cesium.Primitive;\r\nvar PerInstanceColorAppearance = Cesium.PerInstanceColorAppearance;\r\nvar Cartesian3 = Cesium.Cartesian3;\r\nvar VertexFormat = Cesium.VertexFormat;\r\nvar Quaternion = Cesium.Quaternion;\r\nvar Matrix3 = Cesium.Matrix3;\r\nvar Matrix4 = Cesium.Matrix4;\r\nvar Property = Cesium.Property;\r\nvar Event = Cesium.Event;\r\nvar DistanceDisplayCondition = Cesium.DistanceDisplayCondition;\r\nvar DistanceDisplayConditionGeometryInstanceAttribute = Cesium.DistanceDisplayConditionGeometryInstanceAttribute;\r\n\r\nfunction ConicArcSensorCollection(viewer) {\r\n    var self = this;\r\n    if (!defined(viewer)) {\r\n        throw new DeveloperError('viewer is required.');\r\n    }\r\n\r\n    this._viewer = viewer;\r\n\r\n    var scene = viewer.scene;\r\n    this._scene = scene;\r\n\r\n    var clock = viewer.clock;\r\n    this._clock = clock;\r\n\r\n    this._primitives = scene.primitives;\r\n    this._primitive = undefined;\r\n    this._outlinePrimitive = undefined;\r\n\r\n    this._conicArcSensorCollection = [];\r\n\r\n    clock.onTick.addEventListener(function () {\r\n        self.update();\r\n    });\r\n}\r\n\r\nvar matrix3Scratch = new Matrix3();\r\nvar matrix4Scratch = new Matrix4();\r\nvar positionScratch = new Cartesian3();\r\nvar targetPositionScratch = new Cartesian3();\r\nvar diffVectorScratch = new Cartesian3();\r\nvar orientationScratch = new Quaternion();\r\n\r\nConicArcSensorCollection.prototype.add = function (conicArcSensor) {\r\n\r\n    if (!(conicArcSensor instanceof ConicArcSensor)) {\r\n        conicArcSensor = new ConicArcSensor(conicArcSensor);\r\n    }\r\n\r\n    this._conicArcSensorCollection.push(conicArcSensor);\r\n\r\n    return conicArcSensor;\r\n};\r\n\r\nConicArcSensorCollection.prototype.remove = function (conicArcSensor) {\r\n    var index = this._conicArcSensorCollection.indexOf(conicArcSensor);\r\n    if (index !== -1) {\r\n        this._conicArcSensorCollection.splice(index, 1);\r\n    }\r\n};\r\n\r\nConicArcSensorCollection.prototype.removeAll = function () {\r\n    this._conicArcSensorCollection.length = 0;\r\n};\r\n\r\nConicArcSensorCollection.prototype.update = function () {\r\n    var time = this._clock.currentTime;\r\n\r\n    var conicArcSensorCollection = this._conicArcSensorCollection;\r\n    var primitives = this._primitives;\r\n    var primitive = this._primitive;\r\n    var outlinePrimitive = this._outlinePrimitive;\r\n    var instances = [];\r\n    var outlineInstances = [];\r\n\r\n    if (defined(primitive)) {\r\n        primitives.removeAndDestroy(primitive);\r\n    }\r\n    if (defined(outlinePrimitive)) {\r\n        primitives.removeAndDestroy(outlinePrimitive);\r\n    }\r\n\r\n    for (var i = 0, len = conicArcSensorCollection.length; i < len; i++) {\r\n        var entity = conicArcSensorCollection[i];\r\n        var conicArcSensor = entity._conicArcSensor;\r\n\r\n        if (!Property.getValueOrDefault(conicArcSensor.show, time, true)) {\r\n            continue;\r\n        }\r\n\r\n        var angle = conicArcSensor.angle;\r\n        var radius = conicArcSensor.radius;\r\n        var stack = conicArcSensor.stack;\r\n        var slice = conicArcSensor.slice;\r\n\r\n        if (!defined(angle)) {\r\n            continue;\r\n        }\r\n\r\n        var show = Property.getValueOrDefault(entity.show, time, true);\r\n        if (!show) {\r\n            continue;\r\n        }\r\n\r\n        var position = Property.getValueOrUndefined(entity.position, time, positionScratch);\r\n\r\n        if (!defined(position)) {\r\n            continue;\r\n        }\r\n\r\n        var modelMatrix;\r\n        var gaze = conicArcSensor.gaze;\r\n        if (defined(gaze)) {\r\n            //ignore original orientation\r\n            var targetPosition = Property.getValueOrUndefined(gaze.position, time, targetPositionScratch);\r\n\r\n            if (!defined(position) || !defined(targetPosition)) {\r\n                continue;\r\n            }\r\n\r\n            var diffVector = Cartesian3.subtract(position, targetPosition, diffVectorScratch);\r\n            var rotate = Cartesian3.angleBetween(Cesium.Cartesian3.UNIT_Z, diffVector);\r\n            var cross = Cartesian3.cross(Cesium.Cartesian3.UNIT_Z, diffVector, diffVectorScratch);\r\n            //朝上\r\n            //var orientation = Quaternion.fromAxisAngle(cross, (rotate - Math.PI), orientationScratch);\r\n            var orientation = Quaternion.fromAxisAngle(cross, rotate, orientationScratch);\r\n\r\n            //replace original dimensions\r\n            var distance = Cartesian3.distance(position, targetPosition);\r\n\r\n            radius = 1;\r\n            modelMatrix = Matrix4.fromRotationTranslation(\r\n                Cesium.Matrix3.multiplyByScalar(Matrix3.fromQuaternion(orientation, matrix3Scratch), distance, matrix3Scratch),\r\n                position, matrix4Scratch);\r\n\r\n        } else {\r\n            var orientation = Property.getValueOrUndefined(entity.orientation, time, orientationScratch);\r\n            if (!defined(orientation)) {\r\n                modelMatrix = Transforms.eastNorthUpToFixedFrame(position, undefined, matrix4Scratch);\r\n            } else {\r\n                modelMatrix = Matrix4.fromRotationTranslation(Matrix3.fromQuaternion(orientation, matrix3Scratch), position, matrix4Scratch);\r\n            }\r\n        }\r\n\r\n        if (!defined(modelMatrix)) {\r\n            continue;\r\n        }\r\n\r\n        var geometry = entity._geometry;\r\n        if (!defined(geometry)) {\r\n            var conic;\r\n            conic = new ConicArcSensorGeometry({\r\n                vertexFormat: Cesium.VertexFormat.POSITION_AND_NORMAL,\r\n                angle: angle,\r\n                radius: radius,\r\n                stackPartitions: stack,\r\n                slicePartitions: slice,\r\n            });\r\n            entity._geometry = ConicArcSensorGeometry.createGeometry(conic);\r\n            geometry = entity._geometry;\r\n        }\r\n\r\n        //var distanceDisplayCondition = Property.getValueOrDefault(conicArcSensor.distanceDisplayCondition, time, entity._distanceDisplayCondition);\r\n        //var distanceDisplayConditionAttribute = DistanceDisplayConditionGeometryInstanceAttribute.fromDistanceDisplayCondition(distanceDisplayCondition);\r\n        //var shadows = Property.getValueOrDefault(conicArcSensor.shadows, time, ShadowMode.DISABLED);\r\n        var color = conicArcSensor.color;\r\n        var outline = conicArcSensor.outline;\r\n        var outlineWidth = conicArcSensor.outlineWidth;\r\n        if (!defined(outlineWidth)) {\r\n            outlineWidth = 1;\r\n        }\r\n        var outlineColor = conicArcSensor.outlineColor;\r\n        if (!defined(outlineColor)) {\r\n            outlineColor = Color.WHITE;\r\n        }\r\n\r\n        var instance = new Cesium.GeometryInstance({\r\n            geometry: geometry,\r\n            modelMatrix: modelMatrix,\r\n            attributes: {\r\n                color: Cesium.ColorGeometryInstanceAttribute.fromColor(color),\r\n                //distanceDisplayCondition: distanceDisplayConditionAttribute\r\n            }\r\n        });\r\n        instances.push(instance);\r\n\r\n        if (outline) {\r\n            var outlineGeometry = entity._outlineGeometry;\r\n            if (!defined(outlineGeometry)) {\r\n                var conicOutline;\r\n                conicOutline = new ConicArcSensorOutlineGeometry({\r\n                    vertexFormat: Cesium.VertexFormat.POSITION_ONLY,\r\n                    angle: angle,\r\n                    radius: radius\r\n                });\r\n                entity._outlineGeometry = ConicArcSensorOutlineGeometry.createGeometry(conicOutline);\r\n                outlineGeometry = entity._outlineGeometry;\r\n            }\r\n\r\n            var instance = new Cesium.GeometryInstance({\r\n                geometry: outlineGeometry,\r\n                modelMatrix: modelMatrix,\r\n                attributes: {\r\n                    color: Cesium.ColorGeometryInstanceAttribute.fromColor(outlineColor),\r\n                    //distanceDisplayCondition: distanceDisplayConditionAttribute\r\n                }\r\n            });\r\n            outlineInstances.push(instance);\r\n        }\r\n    }\r\n\r\n    if (instances.length > 0) {\r\n        this._primitive = this._primitives.add(new Primitive({\r\n            asynchronous: false,\r\n            geometryInstances: instances,\r\n            appearance: new PerInstanceColorAppearance({\r\n                flat: false,\r\n                translucent: true,\r\n                closed: true\r\n            })\r\n        }));\r\n    }\r\n\r\n    if (outlineInstances.length > 0) {\r\n        this._outlinePrimitive = this._primitives.add(new Primitive({\r\n            asynchronous: false,\r\n            geometryInstances: outlineInstances,\r\n            appearance: new PerInstanceColorAppearance({\r\n                flat: true,\r\n                translucent: true,\r\n                renderState: {\r\n                    lineWidth: this._scene.clampLineWidth(outlineWidth)\r\n                }\r\n            })\r\n        }));\r\n    }\r\n};\r\n\r\nexport {ConicArcSensorCollection};\n\n\n// WEBPACK FOOTER //\n// ./Source/Sensor/ConicArcSensor/ConicArcSensorCollection.js","import Cesium from \"Cesium\";\r\nimport {ConicArcSensorGraphics} from \"./ConicArcSensorGraphics\";\r\n\r\nvar Entity = Cesium.Entity;\r\nvar Event = Cesium.Event;\r\nvar ConstantPositionProperty = Cesium.ConstantPositionProperty;\r\nvar createPropertyDescriptor = Cesium.createPropertyDescriptor;\r\nvar DistanceDisplayCondition = Cesium.DistanceDisplayCondition;\r\nvar DistanceDisplayConditionGeometryInstanceAttribute = Cesium.DistanceDisplayConditionGeometryInstanceAttribute;\r\n\r\nfunction createConstantPositionProperty(value) {\r\n    return new ConstantPositionProperty(value);\r\n}\r\n\r\nfunction createPositionPropertyDescriptor(name) {\r\n    return createPropertyDescriptor(name, undefined, createConstantPositionProperty);\r\n}\r\n\r\nfunction ConicArcSensor(options) {\r\n    options = options || {};\r\n\r\n    this._position = undefined;\r\n    this._orientation = undefined;\r\n    this._show = undefined;\r\n\r\n    var conicArcSensor = options.conicArcSensor;\r\n    if (!(conicArcSensor instanceof ConicArcSensorGraphics)) {\r\n        conicArcSensor = new ConicArcSensorGraphics(conicArcSensor);\r\n    }\r\n    this._conicArcSensor = conicArcSensor;\r\n\r\n\r\n    this._distanceDisplayCondition = new DistanceDisplayCondition();\r\n    this._geometry = undefined;\r\n    this._outlineGeometry = undefined;\r\n\r\n    this._definitionChanged = new Event();\r\n\r\n    this.merge(options);\r\n}\r\n\r\nObject.defineProperties(ConicArcSensor.prototype, {\r\n    position: createPositionPropertyDescriptor('position'),\r\n    orientation: createPropertyDescriptor('orientation'),\r\n    show: createPropertyDescriptor('show'),\r\n});\r\n\r\nConicArcSensor.prototype.merge = function (options) {\r\n    this.position = options.position;\r\n    this.orientation = options.orientation;\r\n    this.show = options.show;\r\n};\r\n\r\nConicArcSensor.prototype.gazeAt = function (entity) {\r\n    if (entity instanceof Entity) {\r\n        this._conicArcSensor.gaze = entity;\r\n    }\r\n};\r\n\r\nexport {ConicArcSensor};\n\n\n// WEBPACK FOOTER //\n// ./Source/Sensor/ConicArcSensor/ConicArcSensor.js","import Cesium from 'Cesium';\r\n\r\nimport {PolylineAttackLinkMaterialProperty} from './MaterialProperty/PolylineAttackLinkMaterialProperty';\r\nimport {PolylineArrowLinkMaterialProperty} from './MaterialProperty/PolylineArrowLinkMaterialProperty';\r\nimport {PolylineGlowLinkMaterialProperty} from './MaterialProperty/PolylineGlowLinkMaterialProperty';\r\nimport {PolylinePulseLinkMaterialProperty} from './MaterialProperty/PolylinePulseLinkMaterialProperty';\r\nimport {PolylineTrailLinkMaterialProperty} from './MaterialProperty/PolylineTrailLinkMaterialProperty';\r\nimport {ElliposidFadeMaterialProperty} from './MaterialProperty/ElliposidFadeMaterialProperty';\r\n\r\nimport polylineLinkMaterial from './Shaders/polylineLinkMaterial.glsl';\r\nimport polylinePulseMaterial from './Shaders/polylinePulseMaterial.glsl';\r\nimport polylineGlowMaterial from './Shaders/polylineGlowMaterial.glsl';\r\nimport polylineTrailMaterial from './Shaders/polylineTrailMaterial.glsl';\r\nimport ElliposidFadeMaterial from './Shaders/ElliposidFadeMaterial.glsl';\r\nimport {util} from '../Core/util';\r\n\r\nvar Color = Cesium.Color;\r\nvar ShaderSource = Cesium.ShaderSource;\r\nvar Material = Cesium.Material;\r\nvar baseUrl = util.getBaseUrl();\r\n\r\n/**\r\n * 线的攻击特效Material\r\n */\r\nMaterial.PolylineAttackLinkType = 'PolylineAttackLink';\r\nMaterial.PolylineAttackLinkImage = baseUrl + 'Textures/DotTransparent.png';\r\nMaterial._materialCache.addMaterial(Material.PolylineAttackLinkType, {\r\n    fabric: {\r\n        type: Material.PolylineAttackLinkType,\r\n        uniforms: {\r\n            color: new Color(1, 0, 0, 1.0),\r\n            image: Material.PolylineAttackLinkImage,\r\n            time: 0,\r\n        },\r\n        source: polylineLinkMaterial\r\n    },\r\n    translucent: function () {\r\n        return true;\r\n    }\r\n});\r\n\r\n/**\r\n * 线的箭头特效Material\r\n */\r\nMaterial.PolylineArrowLinkType = 'PolylineArrowLink';\r\nMaterial.PolylineArrowLinkImage = baseUrl + 'Textures/ArrowOpacity.png';\r\nMaterial._materialCache.addMaterial(Material.PolylineArrowLinkType, {\r\n    fabric: {\r\n        type: Material.PolylineArrowLinkType,\r\n        uniforms: {\r\n            color: new Color(1, 0, 0, 1.0),\r\n            image: Material.PolylineArrowLinkImage,\r\n            time: 0,\r\n        },\r\n        source: polylineLinkMaterial\r\n    },\r\n    translucent: function () {\r\n        return true;\r\n    }\r\n});\r\n\r\n/**\r\n * 线的滋滋滋特效Material\r\n */\r\nMaterial.PolylinePulseLinkType = 'PolylinePulseLink';\r\nMaterial.PolylinePulseLinkImage = baseUrl + 'Textures/LinkPulse.png';\r\nMaterial._materialCache.addMaterial(Material.PolylinePulseLinkType, {\r\n    fabric: {\r\n        type: Material.PolylinePulseLinkType,\r\n        uniforms: {\r\n            color: new Color(1, 0, 0, 1.0),\r\n            image: Material.PolylinePulseLinkImage,\r\n            time: 0,\r\n        },\r\n        source: polylineLinkMaterial\r\n    },\r\n    translucent: function () {\r\n        return true;\r\n    }\r\n});\r\n\r\nMaterial.PolylineGrowLinkType = 'PolylineGrowLinkType';\r\nMaterial._materialCache.addMaterial(Material.PolylineGrowLinkType, {\r\n    fabric: {\r\n        type: Material.PolylineGrowLinkType,\r\n        uniforms: {\r\n            glowPower: 0.1,\r\n            color: new Color(1, 0, 0, 1.0)\r\n        },\r\n        source: polylineGlowMaterial\r\n    },\r\n    translucent: function () {\r\n        return true;\r\n    }\r\n});\r\n\r\nMaterial.PolylineTrailLinkType = 'PolylineTrailLinkType';\r\nMaterial.PolylineTrailLinkImage = baseUrl + 'Textures/LinkTrail.png';\r\nMaterial._materialCache.addMaterial(Material.PolylineTrailLinkType, {\r\n    fabric: {\r\n        type: Material.PolylineTrailLinkType,\r\n        uniforms: {\r\n            image:Material.PolylineTrailLinkImage,\r\n            color: new Color(1, 0, 0, 1.0)\r\n        },\r\n        source: polylineTrailMaterial\r\n    },\r\n    translucent: function () {\r\n        return true;\r\n    }\r\n});\r\n\r\n/**\r\n * 渐变的气泡\r\n * @type {string}\r\n */\r\nMaterial.EllipsoidFadeType = 'EllipsoidFade';\r\nMaterial._materialCache.addMaterial(Material.EllipsoidFadeType, {\r\n    fabric: {\r\n        type: Material.EllipsoidFadeType,\r\n        uniforms: {\r\n            color: new Color(1, 0, 0, 1.0),\r\n            time: 1,\r\n\r\n        },\r\n        source: ElliposidFadeMaterial\r\n    },\r\n    translucent: function () {\r\n        return true;\r\n    }\r\n});\r\n\r\nCesium.PolylineAttackLinkMaterialProperty = PolylineAttackLinkMaterialProperty;\r\nCesium.PolylineArrowLinkMaterialProperty = PolylineArrowLinkMaterialProperty;\r\nCesium.PolylineGlowLinkMaterialProperty = PolylineGlowLinkMaterialProperty;\r\nCesium.PolylinePulseLinkMaterialProperty = PolylinePulseLinkMaterialProperty;\r\nCesium.PolylineTrailLinkMaterialProperty = PolylineTrailLinkMaterialProperty;\r\nCesium.ElliposidFadeMaterialProperty = ElliposidFadeMaterialProperty;\r\n\n\n\n// WEBPACK FOOTER //\n// ./Source/Material/Material.js","import Cesium from 'Cesium';\r\nimport {util} from '../../Core/util';\r\n\r\nvar Color = Cesium.Color;\r\nvar defaultValue = Cesium.defaultValue;\r\nvar defined = Cesium.defined;\r\nvar defineProperties = Cesium.defineProperties;\r\nvar Event = Cesium.Event;\r\nvar createPropertyDescriptor = Cesium.createPropertyDescriptor;\r\nvar Property = Cesium.Property;\r\nvar Material = Cesium.Material;\r\n\r\nvar defaultColor = Color.WHITE;\r\n\r\nfunction PolylineAttackLinkMaterialProperty(options) {\r\n    options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n\r\n    this._definitionChanged = new Event();\r\n    this._color = undefined;\r\n    this._colorSubscription = undefined;\r\n\r\n    this.color = options.color;\r\n    this.duration = options.duration || 1000;\r\n\r\n    this._time = undefined;\r\n}\r\n\r\ndefineProperties(PolylineAttackLinkMaterialProperty.prototype, {\r\n    /**\r\n     * Gets a value indicating if this property is constant.  A property is considered\r\n     * constant if getValue always returns the same result for the current definition.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Boolean}\r\n     * @readonly\r\n     */\r\n    isConstant: {\r\n        get: function () {\r\n            return false;\r\n        }\r\n    },\r\n    /**\r\n     * Gets the event that is raised whenever the definition of this property changes.\r\n     * The definition is considered to have changed if a call to getValue would return\r\n     * a different result for the same time.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Event}\r\n     * @readonly\r\n     */\r\n    definitionChanged: {\r\n        get: function () {\r\n            return this._definitionChanged;\r\n        }\r\n    },\r\n    /**\r\n     * Gets or sets the Property specifying the {@link Color} of the line.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Property}\r\n     */\r\n    color: createPropertyDescriptor('color')\r\n});\r\n\r\n/**\r\n * Gets the {@link Material} type at the provided time.\r\n *\r\n * @param {JulianDate} time The time for which to retrieve the type.\r\n * @returns {String} The type of material.\r\n */\r\nPolylineAttackLinkMaterialProperty.prototype.getType = function (time) {\r\n    return Material.PolylineAttackLinkType;\r\n};\r\n\r\n/**\r\n * Gets the value of the property at the provided time.\r\n *\r\n * @param {JulianDate} time The time for which to retrieve the value.\r\n * @param {Object} [result] The object to store the value into, if omitted, a new instance is created and returned.\r\n * @returns {Object} The modified result parameter or a new instance if the result parameter was not supplied.\r\n */\r\nPolylineAttackLinkMaterialProperty.prototype.getValue = function (time, result) {\r\n    if (!defined(result)) {\r\n        result = {};\r\n    }\r\n    result.color = Property.getValueOrClonedDefault(this._color, time, defaultColor, result.color);\r\n    result.image = Material.PolylineAttackLinkImage;\r\n    if (this._time === undefined) {\r\n        this._time = time.secondsOfDay;\r\n    }\r\n    result.time = (time.secondsOfDay - this._time) / this.duration;\r\n    return result;\r\n};\r\n\r\n/**\r\n * Compares this property to the provided property and returns\r\n * <code>true</code> if they are equal, <code>false</code> otherwise.\r\n *\r\n * @param {Property} [other] The other property.\r\n * @returns {Boolean} <code>true</code> if left and right are equal, <code>false</code> otherwise.\r\n */\r\nPolylineAttackLinkMaterialProperty.prototype.equals = function (other) {\r\n    return this === other || //\r\n        (other instanceof PolylineAttackLinkMaterialProperty &&\r\n        Property.equals(this._color, other._color));\r\n};\r\n\r\nexport {PolylineAttackLinkMaterialProperty};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./Source/Material/MaterialProperty/PolylineAttackLinkMaterialProperty.js","import Cesium from 'Cesium';\r\nimport {util} from '../../Core/util';\r\n\r\nlet Color = Cesium.Color;\r\nlet defaultValue = Cesium.defaultValue;\r\nlet defined = Cesium.defined;\r\nlet defineProperties = Cesium.defineProperties;\r\nlet Event = Cesium.Event;\r\nlet createPropertyDescriptor = Cesium.createPropertyDescriptor;\r\nlet Property = Cesium.Property;\r\nlet Material = Cesium.Material;\r\n\r\nlet defaultColor = Color.WHITE;\r\n\r\nfunction PolylineArrowLinkMaterialProperty(options) {\r\n    options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n\r\n    this._definitionChanged = new Event();\r\n    this._color = undefined;\r\n    this._colorSubscription = undefined;\r\n\r\n    this.color = options.color;\r\n    this.duration = options.duration || 1000;\r\n\r\n    this._time = undefined;\r\n}\r\n\r\ndefineProperties(PolylineArrowLinkMaterialProperty.prototype, {\r\n    /**\r\n     * Gets a value indicating if this property is constant.  A property is considered\r\n     * constant if getValue always returns the same result for the current definition.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Boolean}\r\n     * @readonly\r\n     */\r\n    isConstant: {\r\n        get: function () {\r\n            return false;\r\n        }\r\n    },\r\n    /**\r\n     * Gets the event that is raised whenever the definition of this property changes.\r\n     * The definition is considered to have changed if a call to getValue would return\r\n     * a different result for the same time.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Event}\r\n     * @readonly\r\n     */\r\n    definitionChanged: {\r\n        get: function () {\r\n            return this._definitionChanged;\r\n        }\r\n    },\r\n    /**\r\n     * Gets or sets the Property specifying the {@link Color} of the line.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Property}\r\n     */\r\n    color: createPropertyDescriptor('color')\r\n});\r\n\r\n/**\r\n * Gets the {@link Material} type at the provided time.\r\n *\r\n * @param {JulianDate} time The time for which to retrieve the type.\r\n * @returns {String} The type of material.\r\n */\r\nPolylineArrowLinkMaterialProperty.prototype.getType = function (time) {\r\n    return Material.PolylineArrowLinkType;\r\n};\r\n\r\n/**\r\n * Gets the value of the property at the provided time.\r\n *\r\n * @param {JulianDate} time The time for which to retrieve the value.\r\n * @param {Object} [result] The object to store the value into, if omitted, a new instance is created and returned.\r\n * @returns {Object} The modified result parameter or a new instance if the result parameter was not supplied.\r\n */\r\nPolylineArrowLinkMaterialProperty.prototype.getValue = function (time, result) {\r\n    if (!defined(result)) {\r\n        result = {};\r\n    }\r\n    result.color = Property.getValueOrClonedDefault(this._color, time, defaultColor, result.color);\r\n    result.image = Material.PolylineArrowLinkImage;\r\n    if (this._time === undefined) {\r\n        this._time = time.secondsOfDay;\r\n    }\r\n    result.time = (time.secondsOfDay - this._time) * 1000 / this.duration;\r\n    return result;\r\n};\r\n\r\n/**\r\n * Compares this property to the provided property and returns\r\n * <code>true</code> if they are equal, <code>false</code> otherwise.\r\n *\r\n * @param {Property} [other] The other property.\r\n * @returns {Boolean} <code>true</code> if left and right are equal, <code>false</code> otherwise.\r\n */\r\nPolylineArrowLinkMaterialProperty.prototype.equals = function (other) {\r\n    return this === other || //\r\n        (other instanceof PolylineArrowLinkMaterialProperty &&\r\n        Property.equals(this._color, other._color));\r\n};\r\n\r\nexport {PolylineArrowLinkMaterialProperty};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./Source/Material/MaterialProperty/PolylineArrowLinkMaterialProperty.js","import Cesium from 'Cesium';\r\n\r\nlet Color = Cesium.Color;\r\nlet defaultValue = Cesium.defaultValue;\r\nlet defined = Cesium.defined;\r\nlet defineProperties = Cesium.defineProperties;\r\nlet Event = Cesium.Event;\r\nlet createPropertyDescriptor = Cesium.createPropertyDescriptor;\r\nlet Property = Cesium.Property;\r\nlet Material = Cesium.Material;\r\n\r\nlet defaultColor = Color.WHITE;\r\n\r\nfunction PolylineGlowLinkMaterialProperty(options) {\r\n    options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n\r\n    this._definitionChanged = new Event();\r\n    this._color = undefined;\r\n    this._colorSubscription = undefined;\r\n\r\n    this.color = options.color;\r\n}\r\n\r\ndefineProperties(PolylineGlowLinkMaterialProperty.prototype, {\r\n    /**\r\n     * Gets a value indicating if this property is constant.  A property is considered\r\n     * constant if getValue always returns the same result for the current definition.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Boolean}\r\n     * @readonly\r\n     */\r\n    isConstant: {\r\n        get: function () {\r\n            return false;\r\n        }\r\n    },\r\n    /**\r\n     * Gets the event that is raised whenever the definition of this property changes.\r\n     * The definition is considered to have changed if a call to getValue would return\r\n     * a different result for the same time.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Event}\r\n     * @readonly\r\n     */\r\n    definitionChanged: {\r\n        get: function () {\r\n            return this._definitionChanged;\r\n        }\r\n    },\r\n    /**\r\n     * Gets or sets the Property specifying the {@link Color} of the line.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Property}\r\n     */\r\n    color: createPropertyDescriptor('color')\r\n});\r\n\r\n/**\r\n * Gets the {@link Material} type at the provided time.\r\n *\r\n * @param {JulianDate} time The time for which to retrieve the type.\r\n * @returns {String} The type of material.\r\n */\r\nPolylineGlowLinkMaterialProperty.prototype.getType = function (time) {\r\n    return Material.PolylineGrowLinkType;\r\n};\r\n\r\n/**\r\n * Gets the value of the property at the provided time.\r\n *\r\n * @param {JulianDate} time The time for which to retrieve the value.\r\n * @param {Object} [result] The object to store the value into, if omitted, a new instance is created and returned.\r\n * @returns {Object} The modified result parameter or a new instance if the result parameter was not supplied.\r\n */\r\nPolylineGlowLinkMaterialProperty.prototype.getValue = function (time, result) {\r\n    if (!defined(result)) {\r\n        result = {};\r\n    }\r\n    result.color = Property.getValueOrClonedDefault(this._color, time, defaultColor, result.color);\r\n    return result;\r\n};\r\n\r\n/**\r\n * Compares this property to the provided property and returns\r\n * <code>true</code> if they are equal, <code>false</code> otherwise.\r\n *\r\n * @param {Property} [other] The other property.\r\n * @returns {Boolean} <code>true</code> if left and right are equal, <code>false</code> otherwise.\r\n */\r\nPolylineGlowLinkMaterialProperty.prototype.equals = function (other) {\r\n    return this === other || //\r\n        (other instanceof PolylineGlowLinkMaterialProperty &&\r\n        Property.equals(this._color, other._color));\r\n};\r\n\r\nexport {PolylineGlowLinkMaterialProperty};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./Source/Material/MaterialProperty/PolylineGlowLinkMaterialProperty.js","import Cesium from 'Cesium';\r\nimport {util} from '../../Core/util';\r\n\r\nlet Color = Cesium.Color;\r\nlet defaultValue = Cesium.defaultValue;\r\nlet defined = Cesium.defined;\r\nlet defineProperties = Cesium.defineProperties;\r\nlet Event = Cesium.Event;\r\nlet createPropertyDescriptor = Cesium.createPropertyDescriptor;\r\nlet Property = Cesium.Property;\r\nlet Material = Cesium.Material;\r\n\r\nlet defaultColor = Color.WHITE;\r\n\r\nfunction PolylinePulseLinkMaterialProperty(options) {\r\n    options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n\r\n    this._definitionChanged = new Event();\r\n    this._color = undefined;\r\n    this._colorSubscription = undefined;\r\n\r\n    this.color = options.color;\r\n\r\n    this.duration = options.duration || 1000;\r\n\r\n    this._time = undefined;\r\n}\r\n\r\ndefineProperties(PolylinePulseLinkMaterialProperty.prototype, {\r\n    /**\r\n     * Gets a value indicating if this property is constant.  A property is considered\r\n     * constant if getValue always returns the same result for the current definition.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Boolean}\r\n     * @readonly\r\n     */\r\n    isConstant: {\r\n        get: function () {\r\n            return false;\r\n        }\r\n    },\r\n    /**\r\n     * Gets the event that is raised whenever the definition of this property changes.\r\n     * The definition is considered to have changed if a call to getValue would return\r\n     * a different result for the same time.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Event}\r\n     * @readonly\r\n     */\r\n    definitionChanged: {\r\n        get: function () {\r\n            return this._definitionChanged;\r\n        }\r\n    },\r\n    /**\r\n     * Gets or sets the Property specifying the {@link Color} of the line.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Property}\r\n     */\r\n    color: createPropertyDescriptor('color')\r\n});\r\n\r\n/**\r\n * Gets the {@link Material} type at the provided time.\r\n *\r\n * @param {JulianDate} time The time for which to retrieve the type.\r\n * @returns {String} The type of material.\r\n */\r\nPolylinePulseLinkMaterialProperty.prototype.getType = function (time) {\r\n    return Material.PolylinePulseLinkType;\r\n};\r\n\r\n/**\r\n * Gets the value of the property at the provided time.\r\n *\r\n * @param {JulianDate} time The time for which to retrieve the value.\r\n * @param {Object} [result] The object to store the value into, if omitted, a new instance is created and returned.\r\n * @returns {Object} The modified result parameter or a new instance if the result parameter was not supplied.\r\n */\r\nPolylinePulseLinkMaterialProperty.prototype.getValue = function (time, result) {\r\n    if (!defined(result)) {\r\n        result = {};\r\n    }\r\n    result.color = Property.getValueOrClonedDefault(this._color, time, defaultColor, result.color);\r\n    result.image = Material.PolylinePulseLinkImage;\r\n    if (this._time === undefined) {\r\n        this._time = time.secondsOfDay;\r\n    }\r\n    result.time = (time.secondsOfDay - this._time) * 1000 / this.duration;\r\n    return result;\r\n};\r\n\r\n/**\r\n * Compares this property to the provided property and returns\r\n * <code>true</code> if they are equal, <code>false</code> otherwise.\r\n *\r\n * @param {Property} [other] The other property.\r\n * @returns {Boolean} <code>true</code> if left and right are equal, <code>false</code> otherwise.\r\n */\r\nPolylinePulseLinkMaterialProperty.prototype.equals = function (other) {\r\n    return this === other || //\r\n        (other instanceof PolylinePulseLinkMaterialProperty &&\r\n        Property.equals(this._color, other._color));\r\n};\r\n\r\nexport {PolylinePulseLinkMaterialProperty};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./Source/Material/MaterialProperty/PolylinePulseLinkMaterialProperty.js","import Cesium from 'Cesium';\r\nimport {util} from '../../Core/util';\r\n\r\nvar Color = Cesium.Color;\r\nvar defaultValue = Cesium.defaultValue;\r\nvar defined = Cesium.defined;\r\nvar defineProperties = Cesium.defineProperties;\r\nvar Event = Cesium.Event;\r\nvar createPropertyDescriptor = Cesium.createPropertyDescriptor;\r\nvar Property = Cesium.Property;\r\nvar Material = Cesium.Material;\r\n\r\nvar defaultColor = Color.WHITE;\r\n\r\nfunction PolylineTrailLinkMaterialProperty(options) {\r\n    options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n\r\n    this._definitionChanged = new Event();\r\n    this._color = undefined;\r\n    this._colorSubscription = undefined;\r\n\r\n    this.color = options.color;\r\n\r\n    this._time = undefined;\r\n}\r\n\r\ndefineProperties(PolylineTrailLinkMaterialProperty.prototype, {\r\n    /**\r\n     * Gets a value indicating if this property is constant.  A property is considered\r\n     * constant if getValue always returns the same result for the current definition.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Boolean}\r\n     * @readonly\r\n     */\r\n    isConstant: {\r\n        get: function () {\r\n            return false;\r\n        }\r\n    },\r\n    /**\r\n     * Gets the event that is raised whenever the definition of this property changes.\r\n     * The definition is considered to have changed if a call to getValue would return\r\n     * a different result for the same time.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Event}\r\n     * @readonly\r\n     */\r\n    definitionChanged: {\r\n        get: function () {\r\n            return this._definitionChanged;\r\n        }\r\n    },\r\n    /**\r\n     * Gets or sets the Property specifying the {@link Color} of the line.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Property}\r\n     */\r\n    color: createPropertyDescriptor('color')\r\n});\r\n\r\n/**\r\n * Gets the {@link Material} type at the provided time.\r\n *\r\n * @param {JulianDate} time The time for which to retrieve the type.\r\n * @returns {String} The type of material.\r\n */\r\nPolylineTrailLinkMaterialProperty.prototype.getType = function (time) {\r\n    return Material.PolylineTrailLinkType;\r\n};\r\n\r\n/**\r\n * Gets the value of the property at the provided time.\r\n *\r\n * @param {JulianDate} time The time for which to retrieve the value.\r\n * @param {Object} [result] The object to store the value into, if omitted, a new instance is created and returned.\r\n * @returns {Object} The modified result parameter or a new instance if the result parameter was not supplied.\r\n */\r\nPolylineTrailLinkMaterialProperty.prototype.getValue = function (time, result) {\r\n    if (!defined(result)) {\r\n        result = {};\r\n    }\r\n    result.color = Property.getValueOrClonedDefault(this._color, time, defaultColor, result.color);\r\n    result.image = Material.PolylineTrailLinkImage;\r\n    return result;\r\n};\r\n\r\n/**\r\n * Compares this property to the provided property and returns\r\n * <code>true</code> if they are equal, <code>false</code> otherwise.\r\n *\r\n * @param {Property} [other] The other property.\r\n * @returns {Boolean} <code>true</code> if left and right are equal, <code>false</code> otherwise.\r\n */\r\nPolylineTrailLinkMaterialProperty.prototype.equals = function (other) {\r\n    return this === other || //\r\n        (other instanceof PolylineTrailLinkMaterialProperty &&\r\n        Property.equals(this._color, other._color));\r\n};\r\n\r\nexport {PolylineTrailLinkMaterialProperty};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./Source/Material/MaterialProperty/PolylineTrailLinkMaterialProperty.js","import Cesium from 'Cesium';\r\nimport {util} from '../../Core/util';\r\n\r\nvar Color = Cesium.Color;\r\nvar defaultValue = Cesium.defaultValue;\r\nvar defined = Cesium.defined;\r\nvar defineProperties = Cesium.defineProperties;\r\nvar Event = Cesium.Event;\r\nvar createPropertyDescriptor = Cesium.createPropertyDescriptor;\r\nvar Property = Cesium.Property;\r\nvar Material = Cesium.Material;\r\n\r\nvar defaultColor = Color.WHITE;\r\n\r\nfunction ElliposidFadeMaterialProperty(options) {\r\n    options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n\r\n    this._definitionChanged = new Event();\r\n    this._color = undefined;\r\n    this._colorSubscription = undefined;\r\n\r\n    this.color = options.color;\r\n\r\n    this._time = undefined;\r\n}\r\n\r\ndefineProperties(ElliposidFadeMaterialProperty.prototype, {\r\n    /**\r\n     * Gets a value indicating if this property is constant.  A property is considered\r\n     * constant if getValue always returns the same result for the current definition.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Boolean}\r\n     * @readonly\r\n     */\r\n    isConstant: {\r\n        get: function () {\r\n            return false;\r\n        }\r\n    },\r\n    /**\r\n     * Gets the event that is raised whenever the definition of this property changes.\r\n     * The definition is considered to have changed if a call to getValue would return\r\n     * a different result for the same time.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Event}\r\n     * @readonly\r\n     */\r\n    definitionChanged: {\r\n        get: function () {\r\n            return this._definitionChanged;\r\n        }\r\n    },\r\n    /**\r\n     * Gets or sets the Property specifying the {@link Color} of the line.\r\n     * @memberof PolylineGlowMaterialProperty.prototype\r\n     * @type {Property}\r\n     */\r\n    color: createPropertyDescriptor('color')\r\n});\r\n\r\n/**\r\n * Gets the {@link Material} type at the provided time.\r\n *\r\n * @param {JulianDate} time The time for which to retrieve the type.\r\n * @returns {String} The type of material.\r\n */\r\nElliposidFadeMaterialProperty.prototype.getType = function (time) {\r\n    return Material.EllipsoidFadeType;\r\n};\r\n\r\n/**\r\n * Gets the value of the property at the provided time.\r\n *\r\n * @param {JulianDate} time The time for which to retrieve the value.\r\n * @param {Object} [result] The object to store the value into, if omitted, a new instance is created and returned.\r\n * @returns {Object} The modified result parameter or a new instance if the result parameter was not supplied.\r\n */\r\nElliposidFadeMaterialProperty.prototype.getValue = function (time, result) {\r\n    if (!defined(result)) {\r\n        result = {};\r\n    }\r\n    result.color = Property.getValueOrClonedDefault(this._color, time, defaultColor, result.color);\r\n\r\n    if (this._time === undefined) {\r\n        this._time = time.secondsOfDay;\r\n    }\r\n    result.time = time.secondsOfDay - this._time;\r\n    return result;\r\n};\r\n\r\n/**\r\n * Compares this property to the provided property and returns\r\n * <code>true</code> if they are equal, <code>false</code> otherwise.\r\n *\r\n * @param {Property} [other] The other property.\r\n * @returns {Boolean} <code>true</code> if left and right are equal, <code>false</code> otherwise.\r\n */\r\nElliposidFadeMaterialProperty.prototype.equals = function (other) {\r\n    return this === other || //\r\n        (other instanceof ElliposidFadeMaterialProperty &&\r\n        Property.equals(this._color, other._color));\r\n};\r\n\r\nexport {ElliposidFadeMaterialProperty};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./Source/Material/MaterialProperty/ElliposidFadeMaterialProperty.js","module.exports = \"czm_material czm_getMaterial(czm_materialInput materialInput)\\r\\n{\\r\\n    czm_material material = czm_getDefaultMaterial(materialInput);\\r\\n    vec2 st = materialInput.st;\\r\\n\\r\\n    if(texture2D(image, vec2(0.0, 0.0)).a == 1.0){\\r\\n        discard;\\r\\n    }else{\\r\\n         material.alpha = texture2D(image, vec2(1.0 - fract(time - st.s), st.t)).a * color.a;\\r\\n    }\\r\\n\\r\\n    material.diffuse = max(color.rgb * material.alpha * 3.0, color.rgb);\\r\\n\\r\\n    return material;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./Source/Material/Shaders/polylineLinkMaterial.glsl\n// module id = 24\n// module chunks = 0","module.exports = \"czm_material czm_getMaterial(czm_materialInput materialInput)\\r\\n{\\r\\n    czm_material material = czm_getDefaultMaterial(materialInput);\\r\\n    vec2 st = materialInput.st;\\r\\n\\r\\n    if(texture2D(image, vec2(0.0, 0.0)).a == 1.0){\\r\\n        discard;\\r\\n    }else{\\r\\n         material.alpha = texture2D(image, vec2(1.0 - fract(time - st.s), st.t)).a * color.a;\\r\\n    }\\r\\n\\r\\n    material.diffuse = max(color.rgb * material.alpha * 10.0, color.rgb);\\r\\n\\r\\n    return material;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./Source/Material/Shaders/polylinePulseMaterial.glsl\n// module id = 25\n// module chunks = 0","module.exports = \"uniform vec4 color;\\r\\nuniform float glowPower;\\r\\n\\r\\nvarying float v_width;\\r\\n\\r\\nczm_material czm_getMaterial(czm_materialInput materialInput)\\r\\n{\\r\\n    czm_material material = czm_getDefaultMaterial(materialInput);\\r\\n\\r\\n    vec2 st = materialInput.st;\\r\\n    float glow = glowPower / abs(st.t - 0.5) - (glowPower / 0.5);\\r\\n\\r\\n    material.emission = max(vec3(glow - 1.0 + color.rgb), color.rgb);\\r\\n    material.alpha = clamp(0.0, 1.0, glow) * color.a * st.s;\\r\\n\\r\\n    //material.emission =  color.rgb;\\r\\n    //material.alpha =  color.a;\\r\\n\\r\\n    return material;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./Source/Material/Shaders/polylineGlowMaterial.glsl\n// module id = 26\n// module chunks = 0","module.exports = \"czm_material czm_getMaterial(czm_materialInput materialInput)\\r\\n{\\r\\n    czm_material material = czm_getDefaultMaterial(materialInput);\\r\\n    vec2 st = materialInput.st;\\r\\n\\r\\n    if(texture2D(image, vec2(0.0, 0.0)).a == 1.0){\\r\\n        discard;\\r\\n    }else{\\r\\n         material.alpha = texture2D(image, st).a * color.a;\\r\\n    }\\r\\n\\r\\n   /* if(texture2D(image, st).a > 0.9){\\r\\n       material.diffuse = vec3(1.0);\\r\\n    }else{\\r\\n     material.diffuse = color.rgb;\\r\\n    }*/\\r\\n\\r\\n    material.diffuse = max( material.diffuse* material.alpha * 3.0,  material.diffuse);\\r\\n\\r\\n    return material;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./Source/Material/Shaders/polylineTrailMaterial.glsl\n// module id = 27\n// module chunks = 0","module.exports = \"czm_material czm_getMaterial(czm_materialInput materialInput)\\r\\n{\\r\\n    czm_material material = czm_getDefaultMaterial(materialInput);\\r\\n    material.diffuse = 1.5 * color.rgb;\\r\\n\\r\\n    vec2 st = materialInput.st;\\r\\n    float dis = distance(st, vec2(0.5, 0.5));\\r\\n\\r\\n    float per = fract(time);\\r\\n    if(dis > per * 0.5){\\r\\n       //material.alpha = 0.0;\\r\\n       discard;\\r\\n    }else {\\r\\n         material.alpha = color.a  * dis / per / 2.0;\\r\\n    }\\r\\n    return material;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./Source/Material/Shaders/ElliposidFadeMaterial.glsl\n// module id = 28\n// module chunks = 0","import Cesium from 'Cesium';\r\n\r\n/**\r\n * 计算链路的点集\r\n * @param startPoint 开始节点\r\n * @param endPoint 结束节点\r\n * @param angularityFactor 曲率\r\n * @param numOfSingleLine 点集数量\r\n * @returns {Array}\r\n */\r\nexport function getLinkedPointList(startPoint, endPoint, angularityFactor, numOfSingleLine) {\r\n    var result = [];\r\n\r\n\r\n    var startPosition = Cesium.Cartographic.fromCartesian(startPoint);\r\n    var endPosition = Cesium.Cartographic.fromCartesian(endPoint);\r\n\r\n    var startLon = startPosition.longitude * 180 / Math.PI;\r\n    var startLat = startPosition.latitude * 180 / Math.PI;\r\n    var endLon = endPosition.longitude * 180 / Math.PI;\r\n    var endLat = endPosition.latitude * 180 / Math.PI;\r\n\r\n    var dist = Math.sqrt((startLon - endLon) * (startLon - endLon) + (startLat - endLat) * (startLat - endLat));\r\n\r\n\r\n    //var dist = Cesium.Cartesian3.distance(startPoint, endPoint);\r\n    var angularity = dist * angularityFactor;\r\n\r\n    var startVec = Cesium.Cartesian3.clone(startPoint);\r\n    var endVec = Cesium.Cartesian3.clone(endPoint);\r\n\r\n    var startLength = Cesium.Cartesian3.distance(startVec, Cesium.Cartesian3.ZERO);\r\n    var endLength = Cesium.Cartesian3.distance(endVec, Cesium.Cartesian3.ZERO);\r\n\r\n    Cesium.Cartesian3.normalize(startVec, startVec);\r\n    Cesium.Cartesian3.normalize(endVec, endVec);\r\n\r\n    if (Cesium.Cartesian3.distance(startVec, endVec) == 0) {\r\n        return result;\r\n    }\r\n\r\n    //var cosOmega = Cesium.Cartesian3.dot(startVec, endVec);\r\n    //var omega = Math.acos(cosOmega);\r\n\r\n    var omega = Cesium.Cartesian3.angleBetween(startVec, endVec);\r\n\r\n    result.push(startPoint);\r\n    for (var i = 1; i < numOfSingleLine - 1; i++) {\r\n        var t = i * 1.0 / (numOfSingleLine - 1);\r\n        var invT = 1 - t;\r\n\r\n        var startScalar = Math.sin(invT * omega) / Math.sin(omega);\r\n        var endScalar = Math.sin(t * omega) / Math.sin(omega);\r\n\r\n        var startScalarVec = Cesium.Cartesian3.multiplyByScalar(startVec, startScalar, new Cesium.Cartesian3());\r\n        var endScalarVec = Cesium.Cartesian3.multiplyByScalar(endVec, endScalar, new Cesium.Cartesian3());\r\n\r\n        var centerVec = Cesium.Cartesian3.add(startScalarVec, endScalarVec, new Cesium.Cartesian3());\r\n\r\n        var ht = t * Math.PI;\r\n        var centerLength = startLength * invT + endLength * t + Math.sin(ht) * angularity;\r\n        centerVec = Cesium.Cartesian3.multiplyByScalar(centerVec, centerLength, centerVec);\r\n\r\n        result.push(centerVec);\r\n    }\r\n\r\n    result.push(endPoint);\r\n\r\n    return result;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Source/Core/getLinkedPointList.js"],"sourceRoot":""}